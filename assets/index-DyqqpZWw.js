const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CVRPWs21.js","assets/Login-xmp_AgKb.css","assets/Feed-C4RFUo8h.js","assets/post-hgfmLS-k.js","assets/PostUpload.vue_vue_type_style_index_0_scoped_bb851dd0_lang-DSBaiVOZ.js","assets/PostUpload-C5JBD5Vh.css","assets/RatingStars-DXTGHYj7.js","assets/RatingStars-DdxG_t5D.css","assets/Feed-COT8CXVo.css","assets/Resources-D5SLlXbT.js","assets/Resources-CqKMy9Qv.css","assets/Profile-COPVsCDg.js","assets/Profile-C9pA6WNP.css","assets/Notifications-C1512QO4.js","assets/Notifications-DanIvEgn.css","assets/Ranking-Ds2P-g4w.js","assets/Ranking-Cqx2bRHT.css","assets/UserProfileView-BIyTv2a2.js","assets/UserProfileView-DZ7L3LGI.css","assets/Dashboard-BROvoDUh.js","assets/Dashboard-kNf1jw9E.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const re={},as=[],nt=()=>{},Pl=()=>!1,Pr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Bn=t=>t.startsWith("onUpdate:"),Se=Object.assign,qn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},xl=Object.prototype.hasOwnProperty,Z=(t,e)=>xl.call(t,e),N=Array.isArray,ls=t=>Gs(t)==="[object Map]",xr=t=>Gs(t)==="[object Set]",gi=t=>Gs(t)==="[object Date]",B=t=>typeof t=="function",pe=t=>typeof t=="string",it=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",Oo=t=>(ne(t)||B(t))&&B(t.then)&&B(t.catch),Co=Object.prototype.toString,Gs=t=>Co.call(t),Rl=t=>Gs(t).slice(8,-1),jo=t=>Gs(t)==="[object Object]",Hn=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,As=Fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Ol=/-(\w)/g,He=Rr(t=>t.replace(Ol,(e,s)=>s?s.toUpperCase():"")),Cl=/\B([A-Z])/g,Ut=Rr(t=>t.replace(Cl,"-$1").toLowerCase()),Or=Rr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qr=Rr(t=>t?`on${Or(t)}`:""),Ct=(t,e)=>!Object.is(t,e),cr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},mn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},dr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _i;const Cr=()=>_i||(_i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vn(t){if(N(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=pe(r)?Ll(r):Vn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||ne(t))return t}const jl=/;(?![^(]*\))/g,Il=/:([^]+)/,$l=/\/\*[^]*?\*\//g;function Ll(t){const e={};return t.replace($l,"").split(jl).forEach(s=>{if(s){const r=s.split(Il);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function It(t){let e="";if(pe(t))e=t;else if(N(t))for(let s=0;s<t.length;s++){const r=It(t[s]);r&&(e+=r+" ")}else if(ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ul="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dl=Fn(Ul);function Io(t){return!!t||t===""}function Ml(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=jr(t[r],e[r]);return s}function jr(t,e){if(t===e)return!0;let s=gi(t),r=gi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=it(t),r=it(e),s||r)return t===e;if(s=N(t),r=N(e),s||r)return s&&r?Ml(t,e):!1;if(s=ne(t),r=ne(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!jr(t[o],e[o]))return!1}}return String(t)===String(e)}function Nl(t,e){return t.findIndex(s=>jr(s,e))}const $o=t=>!!(t&&t.__v_isRef===!0),st=t=>pe(t)?t:t==null?"":N(t)||ne(t)&&(t.toString===Co||!B(t.toString))?$o(t)?st(t.value):JSON.stringify(t,Lo,2):String(t),Lo=(t,e)=>$o(e)?Lo(t,e.value):ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Yr(r,i)+" =>"]=n,s),{})}:xr(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Yr(s))}:it(e)?Yr(e):ne(e)&&!N(e)&&!jo(e)?String(e):e,Yr=(t,e="")=>{var s;return it(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let we;class Uo{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!e&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=we;try{return we=this,e()}finally{we=s}}}on(){++this._on===1&&(this.prevScope=we,we=this)}off(){this._on>0&&--this._on===0&&(we=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Do(t){return new Uo(t)}function Mo(){return we}function Fl(t,e=!1){we&&we.cleanups.push(t)}let ae;const Xr=new WeakSet;class No{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xr.has(this)&&(Xr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mi(this),qo(this);const e=ae,s=Ge;ae=this,Ge=!0;try{return this.fn()}finally{Ho(this),ae=e,Ge=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zn(e);this.deps=this.depsTail=void 0,mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vn(this)&&this.run()}get dirty(){return vn(this)}}let Fo=0,Ts,Ps;function Bo(t,e=!1){if(t.flags|=8,e){t.next=Ps,Ps=t;return}t.next=Ts,Ts=t}function Kn(){Fo++}function Wn(){if(--Fo>0)return;if(Ps){let e=Ps;for(Ps=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ts;){let e=Ts;for(Ts=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function qo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ho(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),zn(r),Bl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function vn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Vo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Vo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fs)||(t.globalVersion=Fs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!vn(t))))return;t.flags|=2;const e=t.dep,s=ae,r=Ge;ae=t,Ge=!0;try{qo(t);const n=t.fn(t._value);(e.version===0||Ct(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ae=s,Ge=r,Ho(t),t.flags&=-3}}function zn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)zn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ge=!0;const Ko=[];function mt(){Ko.push(Ge),Ge=!1}function vt(){const t=Ko.pop();Ge=t===void 0?!0:t}function mi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ae;ae=void 0;try{e()}finally{ae=s}}}let Fs=0;class ql{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!Ge||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new ql(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,Wo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=r)}return s}trigger(e){this.version++,Fs++,this.notify(e)}notify(e){Kn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Wn()}}}function Wo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const pr=new WeakMap,zt=Symbol(""),yn=Symbol(""),Bs=Symbol("");function be(t,e,s){if(Ge&&ae){let r=pr.get(t);r||pr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Gn),n.map=r,n.key=s),n.track()}}function pt(t,e,s,r,n,i){const o=pr.get(t);if(!o){Fs++;return}const a=l=>{l&&l.trigger()};if(Kn(),e==="clear")o.forEach(a);else{const l=N(t),u=l&&Hn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Bs||!it(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Bs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(zt)),ls(t)&&a(o.get(yn)));break;case"delete":l||(a(o.get(zt)),ls(t)&&a(o.get(yn)));break;case"set":ls(t)&&a(o.get(zt));break}}Wn()}function Hl(t,e){const s=pr.get(t);return s&&s.get(e)}function Xt(t){const e=Q(t);return e===t?e:(be(e,"iterate",Bs),Be(t)?e:e.map(_e))}function Ir(t){return be(t=Q(t),"iterate",Bs),t}const Vl={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,_e)},concat(...t){return Xt(this).concat(...t.map(e=>N(e)?Xt(e):e))},entries(){return Zr(this,"entries",t=>(t[1]=_e(t[1]),t))},every(t,e){return lt(this,"every",t,e,void 0,arguments)},filter(t,e){return lt(this,"filter",t,e,s=>s.map(_e),arguments)},find(t,e){return lt(this,"find",t,e,_e,arguments)},findIndex(t,e){return lt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return lt(this,"findLast",t,e,_e,arguments)},findLastIndex(t,e){return lt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return lt(this,"forEach",t,e,void 0,arguments)},includes(...t){return en(this,"includes",t)},indexOf(...t){return en(this,"indexOf",t)},join(t){return Xt(this).join(t)},lastIndexOf(...t){return en(this,"lastIndexOf",t)},map(t,e){return lt(this,"map",t,e,void 0,arguments)},pop(){return ys(this,"pop")},push(...t){return ys(this,"push",t)},reduce(t,...e){return vi(this,"reduce",t,e)},reduceRight(t,...e){return vi(this,"reduceRight",t,e)},shift(){return ys(this,"shift")},some(t,e){return lt(this,"some",t,e,void 0,arguments)},splice(...t){return ys(this,"splice",t)},toReversed(){return Xt(this).toReversed()},toSorted(t){return Xt(this).toSorted(t)},toSpliced(...t){return Xt(this).toSpliced(...t)},unshift(...t){return ys(this,"unshift",t)},values(){return Zr(this,"values",_e)}};function Zr(t,e,s){const r=Ir(t),n=r[e]();return r!==t&&!Be(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Kl=Array.prototype;function lt(t,e,s,r,n,i){const o=Ir(t),a=o!==t&&!Be(t),l=o[e];if(l!==Kl[e]){const h=l.apply(t,i);return a?_e(h):h}let u=s;o!==t&&(a?u=function(h,f){return s.call(this,_e(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function vi(t,e,s,r){const n=Ir(t);let i=s;return n!==t&&(Be(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,_e(a),l,t)}),n[e](i,...r)}function en(t,e,s){const r=Q(t);be(r,"iterate",Bs);const n=r[e](...s);return(n===-1||n===!1)&&Yn(s[0])?(s[0]=Q(s[0]),r[e](...s)):n}function ys(t,e,s=[]){mt(),Kn();const r=Q(t)[e].apply(t,s);return Wn(),vt(),r}const Wl=Fn("__proto__,__v_isRef,__isVue"),zo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(it));function zl(t){it(t)||(t=String(t));const e=Q(this);return be(e,"has",t),e.hasOwnProperty(t)}class Go{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?rc:Xo:i?Yo:Qo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=N(e);if(!n){let l;if(o&&(l=Vl[s]))return l;if(s==="hasOwnProperty")return zl}const a=Reflect.get(e,s,he(e)?e:r);return(it(s)?zo.has(s):Wl(s))||(n||be(e,"get",s),i)?a:he(a)?o&&Hn(s)?a:a.value:ne(a)?n?ea(a):Js(a):a}}class Jo extends Go{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=$t(i);if(!Be(r)&&!$t(r)&&(i=Q(i),r=Q(r)),!N(e)&&he(i)&&!he(r))return l?!1:(i.value=r,!0)}const o=N(e)&&Hn(s)?Number(s)<e.length:Z(e,s),a=Reflect.set(e,s,r,he(e)?e:n);return e===Q(n)&&(o?Ct(r,i)&&pt(e,"set",s,r):pt(e,"add",s,r)),a}deleteProperty(e,s){const r=Z(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&pt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!it(s)||!zo.has(s))&&be(e,"has",s),r}ownKeys(e){return be(e,"iterate",N(e)?"length":zt),Reflect.ownKeys(e)}}class Gl extends Go{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Jl=new Jo,Ql=new Gl,Yl=new Jo(!0);const wn=t=>t,tr=t=>Reflect.getPrototypeOf(t);function Xl(t,e,s){return function(...r){const n=this.__v_raw,i=Q(n),o=ls(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?wn:e?gr:_e;return!e&&be(i,"iterate",l?yn:zt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function sr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Zl(t,e){const s={get(n){const i=this.__v_raw,o=Q(i),a=Q(n);t||(Ct(n,a)&&be(o,"get",n),be(o,"get",a));const{has:l}=tr(o),u=e?wn:t?gr:_e;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&be(Q(n),"iterate",zt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Q(i),a=Q(n);return t||(Ct(n,a)&&be(o,"has",n),be(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Q(a),u=e?wn:t?gr:_e;return!t&&be(l,"iterate",zt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Se(s,t?{add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear")}:{add(n){!e&&!Be(n)&&!$t(n)&&(n=Q(n));const i=Q(this);return tr(i).has.call(i,n)||(i.add(n),pt(i,"add",n,n)),this},set(n,i){!e&&!Be(i)&&!$t(i)&&(i=Q(i));const o=Q(this),{has:a,get:l}=tr(o);let u=a.call(o,n);u||(n=Q(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ct(i,c)&&pt(o,"set",n,i):pt(o,"add",n,i),this},delete(n){const i=Q(this),{has:o,get:a}=tr(i);let l=o.call(i,n);l||(n=Q(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&pt(i,"delete",n,void 0),u},clear(){const n=Q(this),i=n.size!==0,o=n.clear();return i&&pt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Xl(n,t,e)}),s}function Jn(t,e){const s=Zl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Z(s,n)&&n in r?s:r,n,i)}const ec={get:Jn(!1,!1)},tc={get:Jn(!1,!0)},sc={get:Jn(!0,!1)};const Qo=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,rc=new WeakMap;function nc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ic(t){return t.__v_skip||!Object.isExtensible(t)?0:nc(Rl(t))}function Js(t){return $t(t)?t:Qn(t,!1,Jl,ec,Qo)}function Zo(t){return Qn(t,!1,Yl,tc,Yo)}function ea(t){return Qn(t,!0,Ql,sc,Xo)}function Qn(t,e,s,r,n){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ic(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function _t(t){return $t(t)?_t(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function Be(t){return!!(t&&t.__v_isShallow)}function Yn(t){return t?!!t.__v_raw:!1}function Q(t){const e=t&&t.__v_raw;return e?Q(e):t}function Xn(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&mn(t,"__v_skip",!0),t}const _e=t=>ne(t)?Js(t):t,gr=t=>ne(t)?ea(t):t;function he(t){return t?t.__v_isRef===!0:!1}function hs(t){return ta(t,!1)}function oc(t){return ta(t,!0)}function ta(t,e){return he(t)?t:new ac(t,e)}class ac{constructor(e,s){this.dep=new Gn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Q(e),this._value=s?e:_e(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Be(e)||$t(e);e=r?e:Q(e),Ct(e,s)&&(this._rawValue=e,this._value=r?e:_e(e),this.dep.trigger())}}function le(t){return he(t)?t.value:t}const lc={get:(t,e,s)=>e==="__v_raw"?t:le(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return he(n)&&!he(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function sa(t){return _t(t)?t:new Proxy(t,lc)}function cc(t){const e=N(t)?new Array(t.length):{};for(const s in t)e[s]=ra(t,s);return e}class uc{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Hl(Q(this._object),this._key)}}class hc{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function fc(t,e,s){return he(t)?t:B(t)?new hc(t):ne(t)&&arguments.length>1?ra(t,e,s):hs(t)}function ra(t,e,s){const r=t[e];return he(r)?r:new uc(t,e,s)}class dc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Gn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return Bo(this,!0),!0}get value(){const e=this.dep.track();return Vo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function pc(t,e,s=!1){let r,n;return B(t)?r=t:(r=t.get,n=t.set),new dc(r,n,s)}const rr={},_r=new WeakMap;let qt;function gc(t,e=!1,s=qt){if(s){let r=_r.get(s);r||_r.set(s,r=[]),r.push(t)}}function _c(t,e,s=re){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=T=>n?T:Be(T)||n===!1||n===0?gt(T,1):gt(T);let c,h,f,g,m=!1,S=!1;if(he(t)?(h=()=>t.value,m=Be(t)):_t(t)?(h=()=>u(t),m=!0):N(t)?(S=!0,m=t.some(T=>_t(T)||Be(T)),h=()=>t.map(T=>{if(he(T))return T.value;if(_t(T))return u(T);if(B(T))return l?l(T,2):T()})):B(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){mt();try{f()}finally{vt()}}const T=qt;qt=c;try{return l?l(t,3,[g]):t(g)}finally{qt=T}}:h=nt,e&&n){const T=h,U=n===!0?1/0:n;h=()=>gt(T(),U)}const k=Mo(),R=()=>{c.stop(),k&&k.active&&qn(k.effects,c)};if(i&&e){const T=e;e=(...U)=>{T(...U),R()}}let C=S?new Array(t.length).fill(rr):rr;const E=T=>{if(!(!(c.flags&1)||!c.dirty&&!T))if(e){const U=c.run();if(n||m||(S?U.some((K,q)=>Ct(K,C[q])):Ct(U,C))){f&&f();const K=qt;qt=c;try{const q=[U,C===rr?void 0:S&&C[0]===rr?[]:C,g];C=U,l?l(e,3,q):e(...q)}finally{qt=K}}}else c.run()};return a&&a(E),c=new No(h),c.scheduler=o?()=>o(E,!1):E,g=T=>gc(T,!1,c),f=c.onStop=()=>{const T=_r.get(c);if(T){if(l)l(T,4);else for(const U of T)U();_r.delete(c)}},e?r?E(!0):C=c.run():o?o(E.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function gt(t,e=1/0,s){if(e<=0||!ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,he(t))gt(t.value,e,s);else if(N(t))for(let r=0;r<t.length;r++)gt(t[r],e,s);else if(xr(t)||ls(t))t.forEach(r=>{gt(r,e,s)});else if(jo(t)){for(const r in t)gt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&gt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qs(t,e,s,r){try{return r?t(...r):t()}catch(n){$r(n,e,s)}}function ot(t,e,s,r){if(B(t)){const n=Qs(t,e,s,r);return n&&Oo(n)&&n.catch(i=>{$r(i,e,s)}),n}if(N(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ot(t[i],e,s,r));return n}}function $r(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||re;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){mt(),Qs(i,null,10,[t,l,u]),vt();return}}mc(t,s,n,r,o)}function mc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let tt=-1;const cs=[];let At=null,ns=0;const na=Promise.resolve();let mr=null;function Lr(t){const e=mr||na;return t?e.then(this?t.bind(this):t):e}function vc(t){let e=tt+1,s=Pe.length;for(;e<s;){const r=e+s>>>1,n=Pe[r],i=qs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Zn(t){if(!(t.flags&1)){const e=qs(t),s=Pe[Pe.length-1];!s||!(t.flags&2)&&e>=qs(s)?Pe.push(t):Pe.splice(vc(e),0,t),t.flags|=1,ia()}}function ia(){mr||(mr=na.then(aa))}function yc(t){N(t)?cs.push(...t):At&&t.id===-1?At.splice(ns+1,0,t):t.flags&1||(cs.push(t),t.flags|=1),ia()}function yi(t,e,s=tt+1){for(;s<Pe.length;s++){const r=Pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function oa(t){if(cs.length){const e=[...new Set(cs)].sort((s,r)=>qs(s)-qs(r));if(cs.length=0,At){At.push(...e);return}for(At=e,ns=0;ns<At.length;ns++){const s=At[ns];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,ns=0}}const qs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function aa(t){try{for(tt=0;tt<Pe.length;tt++){const e=Pe[tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Qs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;tt<Pe.length;tt++){const e=Pe[tt];e&&(e.flags&=-2)}tt=-1,Pe.length=0,oa(),mr=null,(Pe.length||cs.length)&&aa()}}let $e=null,la=null;function vr(t){const e=$e;return $e=t,la=t&&t.type.__scopeId||null,e}function Ot(t,e=$e,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ri(-1);const i=vr(e);let o;try{o=t(...n)}finally{vr(i),r._d&&Ri(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function og(t,e){if($e===null)return t;const s=Nr($e),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=re]=e[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&gt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Nt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(mt(),ot(l,s,8,[t.el,a,t,e]),vt())}}const wc=Symbol("_vte"),bc=t=>t.__isTeleport;function ei(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ei(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function ca(t,e){return B(t)?Se({name:t.name},e,{setup:t}):t}function ua(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function xs(t,e,s,r,n=!1){if(N(t)){t.forEach((m,S)=>xs(m,e&&(N(e)?e[S]:e),s,r,n));return}if(Rs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&xs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Nr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===re?a.refs={}:a.refs,h=a.setupState,f=Q(h),g=h===re?()=>!1:m=>Z(f,m);if(u!=null&&u!==l&&(pe(u)?(c[u]=null,g(u)&&(h[u]=null)):he(u)&&(u.value=null)),B(l))Qs(l,a,12,[o,c]);else{const m=pe(l),S=he(l);if(m||S){const k=()=>{if(t.f){const R=m?g(l)?h[l]:c[l]:l.value;n?N(R)&&qn(R,i):N(R)?R.includes(i)||R.push(i):m?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,g(l)&&(h[l]=o)):S&&(l.value=o,t.k&&(c[t.k]=o))};o?(k.id=-1,De(k,s)):k()}}}Cr().requestIdleCallback;Cr().cancelIdleCallback;const Rs=t=>!!t.type.__asyncLoader,ha=t=>t.type.__isKeepAlive;function Sc(t,e){fa(t,"a",e)}function Ec(t,e){fa(t,"da",e)}function fa(t,e,s=me){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ur(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ha(n.parent.vnode)&&kc(r,e,s,n),n=n.parent}}function kc(t,e,s,r){const n=Ur(e,t,r,!0);ti(()=>{qn(r[e],n)},s)}function Ur(t,e,s=me,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{mt();const a=Ys(s),l=ot(e,s,t,o);return a(),vt(),l});return r?n.unshift(i):n.push(i),i}}const yt=t=>(e,s=me)=>{(!Vs||t==="sp")&&Ur(t,(...r)=>e(...r),s)},Ac=yt("bm"),da=yt("m"),Tc=yt("bu"),Pc=yt("u"),xc=yt("bum"),ti=yt("um"),Rc=yt("sp"),Oc=yt("rtg"),Cc=yt("rtc");function jc(t,e=me){Ur("ec",t,e)}const Ic="components";function si(t,e){return Lc(Ic,t,!0,e)||t}const $c=Symbol.for("v-ndc");function Lc(t,e,s=!0,r=!1){const n=$e||me;if(n){const i=n.type;{const a=Su(i,!1);if(a&&(a===e||a===He(e)||a===Or(He(e))))return i}const o=wi(n[t]||i[t],e)||wi(n.appContext[t],e);return!o&&r?i:o}}function wi(t,e){return t&&(t[e]||t[He(e)]||t[Or(He(e))])}function pa(t,e,s,r){let n;const i=s,o=N(t);if(o||pe(t)){const a=o&&_t(t);let l=!1,u=!1;a&&(l=!Be(t),u=$t(t),t=Ir(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?gr(_e(t[c])):_e(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ne(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const bn=t=>t?$a(t)?Nr(t):bn(t.parent):null,Os=Se(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bn(t.parent),$root:t=>bn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_a(t),$forceUpdate:t=>t.f||(t.f=()=>{Zn(t.update)}),$nextTick:t=>t.n||(t.n=Lr.bind(t.proxy)),$watch:t=>ru.bind(t)}),tn=(t,e)=>t!==re&&!t.__isScriptSetup&&Z(t,e),Uc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(tn(r,e))return o[e]=1,r[e];if(n!==re&&Z(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Z(u,e))return o[e]=3,i[e];if(s!==re&&Z(s,e))return o[e]=4,s[e];Sn&&(o[e]=0)}}const c=Os[e];let h,f;if(c)return e==="$attrs"&&be(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==re&&Z(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,Z(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return tn(n,e)?(n[e]=s,!0):r!==re&&Z(r,e)?(r[e]=s,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==re&&Z(t,o)||tn(e,o)||(a=i[0])&&Z(a,o)||Z(r,o)||Z(Os,o)||Z(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Z(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function bi(t){return N(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Sn=!0;function Dc(t){const e=_a(t),s=t.proxy,r=t.ctx;Sn=!1,e.beforeCreate&&Si(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:g,updated:m,activated:S,deactivated:k,beforeDestroy:R,beforeUnmount:C,destroyed:E,unmounted:T,render:U,renderTracked:K,renderTriggered:q,errorCaptured:z,serverPrefetch:G,expose:ue,inheritAttrs:Ee,components:Le,directives:xe,filters:Mt}=e;if(u&&Mc(u,r,null),o)for(const V in o){const Y=o[V];B(Y)&&(r[V]=Y.bind(s))}if(n){const V=n.call(s,s);ne(V)&&(t.data=Js(V))}if(Sn=!0,i)for(const V in i){const Y=i[V],at=B(Y)?Y.bind(s,s):B(Y.get)?Y.get.bind(s,s):nt,bt=!B(Y)&&B(Y.set)?Y.set.bind(s):nt,Qe=Me({get:at,set:bt});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Re=>Qe.value=Re})}if(a)for(const V in a)ga(a[V],r,s,V);if(l){const V=B(l)?l.call(s):l;Reflect.ownKeys(V).forEach(Y=>{ur(Y,V[Y])})}c&&Si(c,t,"c");function ce(V,Y){N(Y)?Y.forEach(at=>V(at.bind(s))):Y&&V(Y.bind(s))}if(ce(Ac,h),ce(da,f),ce(Tc,g),ce(Pc,m),ce(Sc,S),ce(Ec,k),ce(jc,z),ce(Cc,K),ce(Oc,q),ce(xc,C),ce(ti,T),ce(Rc,G),N(ue))if(ue.length){const V=t.exposed||(t.exposed={});ue.forEach(Y=>{Object.defineProperty(V,Y,{get:()=>s[Y],set:at=>s[Y]=at})})}else t.exposed||(t.exposed={});U&&t.render===nt&&(t.render=U),Ee!=null&&(t.inheritAttrs=Ee),Le&&(t.components=Le),xe&&(t.directives=xe),G&&ua(t)}function Mc(t,e,s=nt){N(t)&&(t=En(t));for(const r in t){const n=t[r];let i;ne(n)?"default"in n?i=qe(n.from||r,n.default,!0):i=qe(n.from||r):i=qe(n),he(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Si(t,e,s){ot(N(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ga(t,e,s,r){let n=r.includes(".")?Ra(s,r):()=>s[r];if(pe(t)){const i=e[t];B(i)&&Cs(n,i)}else if(B(t))Cs(n,t.bind(s));else if(ne(t))if(N(t))t.forEach(i=>ga(i,e,s,r));else{const i=B(t.handler)?t.handler.bind(s):e[t.handler];B(i)&&Cs(n,i,t)}}function _a(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>yr(l,u,o,!0)),yr(l,e,o)),ne(e)&&i.set(e,l),l}function yr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&yr(t,i,s,!0),n&&n.forEach(o=>yr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Nc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Nc={data:Ei,props:ki,emits:ki,methods:Es,computed:Es,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Es,directives:Es,watch:Bc,provide:Ei,inject:Fc};function Ei(t,e){return e?t?function(){return Se(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function Fc(t,e){return Es(En(t),En(e))}function En(t){if(N(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ke(t,e){return t?[...new Set([].concat(t,e))]:e}function Es(t,e){return t?Se(Object.create(null),t,e):e}function ki(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:Se(Object.create(null),bi(t),bi(e??{})):e}function Bc(t,e){if(!t)return e;if(!e)return t;const s=Se(Object.create(null),t);for(const r in e)s[r]=ke(t[r],e[r]);return s}function ma(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qc=0;function Hc(t,e){return function(r,n=null){B(r)||(r=Se({},r)),n!=null&&!ne(n)&&(n=null);const i=ma(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:qc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:ku,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...h)):B(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const g=u._ceVNode||de(r,n);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,c,f),l=!0,u._container=c,c.__vue_app__=u,Nr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ot(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Gt;Gt=u;try{return c()}finally{Gt=h}}};return u}}let Gt=null;function ur(t,e){if(me){let s=me.provides;const r=me.parent&&me.parent.provides;r===s&&(s=me.provides=Object.create(r)),s[t]=e}}function qe(t,e,s=!1){const r=me||$e;if(r||Gt){let n=Gt?Gt._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&B(e)?e.call(r&&r.proxy):e}}function Vc(){return!!(me||$e||Gt)}const va={},ya=()=>Object.create(va),wa=t=>Object.getPrototypeOf(t)===va;function Kc(t,e,s,r=!1){const n={},i=ya();t.propsDefaults=Object.create(null),ba(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Zo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Wc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Q(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Dr(t.emitsOptions,f))continue;const g=e[f];if(l)if(Z(i,f))g!==i[f]&&(i[f]=g,u=!0);else{const m=He(f);n[m]=kn(l,a,m,g,t,!1)}else g!==i[f]&&(i[f]=g,u=!0)}}}else{ba(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!Z(e,h)&&((c=Ut(h))===h||!Z(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=kn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Z(e,h))&&(delete i[h],u=!0)}u&&pt(t.attrs,"set","")}function ba(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(As(l))continue;const u=e[l];let c;n&&Z(n,c=He(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Dr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Q(s),u=a||re;for(let c=0;c<i.length;c++){const h=i[c];s[h]=kn(n,l,h,u[h],t,!Z(u,h))}}return o}function kn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Z(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ys(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ut(s))&&(r=!0))}return r}const zc=new WeakMap;function Sa(t,e,s=!1){const r=s?zc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!B(t)){const c=h=>{l=!0;const[f,g]=Sa(h,e,!0);Se(o,f),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ne(t)&&r.set(t,as),as;if(N(i))for(let c=0;c<i.length;c++){const h=He(i[c]);Ai(h)&&(o[h]=re)}else if(i)for(const c in i){const h=He(c);if(Ai(h)){const f=i[c],g=o[h]=N(f)||B(f)?{type:f}:Se({},f),m=g.type;let S=!1,k=!0;if(N(m))for(let R=0;R<m.length;++R){const C=m[R],E=B(C)&&C.name;if(E==="Boolean"){S=!0;break}else E==="String"&&(k=!1)}else S=B(m)&&m.name==="Boolean";g[0]=S,g[1]=k,(S||Z(g,"default"))&&a.push(h)}}const u=[o,a];return ne(t)&&r.set(t,u),u}function Ai(t){return t[0]!=="$"&&!As(t)}const ri=t=>t[0]==="_"||t==="$stable",ni=t=>N(t)?t.map(rt):[rt(t)],Gc=(t,e,s)=>{if(e._n)return e;const r=Ot((...n)=>ni(e(...n)),s);return r._c=!1,r},Ea=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ri(n))continue;const i=t[n];if(B(i))e[n]=Gc(n,i,r);else if(i!=null){const o=ni(i);e[n]=()=>o}}},ka=(t,e)=>{const s=ni(e);t.slots.default=()=>s},Aa=(t,e,s)=>{for(const r in e)(s||!ri(r))&&(t[r]=e[r])},Jc=(t,e,s)=>{const r=t.slots=ya();if(t.vnode.shapeFlag&32){const n=e.__;n&&mn(r,"__",n,!0);const i=e._;i?(Aa(r,e,s),s&&mn(r,"_",i,!0)):Ea(e,r)}else e&&ka(t,e)},Qc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=re;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Aa(n,e,s):(i=!e.$stable,Ea(e,n)),o=e}else e&&(ka(t,e),o={default:1});if(i)for(const a in n)!ri(a)&&o[a]==null&&delete n[a]},De=uu;function Yc(t){return Xc(t)}function Xc(t,e){const s=Cr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:g=nt,insertStaticContent:m}=t,S=(d,p,_,v=null,b=null,w=null,O=void 0,x=null,P=!!p.dynamicChildren)=>{if(d===p)return;d&&!ws(d,p)&&(v=y(d),Re(d,b,w,!0),d=null),p.patchFlag===-2&&(P=!1,p.dynamicChildren=null);const{type:A,ref:M,shapeFlag:I}=p;switch(A){case Mr:k(d,p,_,v);break;case Lt:R(d,p,_,v);break;case rn:d==null&&C(p,_,v,O);break;case ze:Le(d,p,_,v,b,w,O,x,P);break;default:I&1?U(d,p,_,v,b,w,O,x,P):I&6?xe(d,p,_,v,b,w,O,x,P):(I&64||I&128)&&A.process(d,p,_,v,b,w,O,x,P,L)}M!=null&&b?xs(M,d&&d.ref,w,p||d,!p):M==null&&d&&d.ref!=null&&xs(d.ref,null,w,d,!0)},k=(d,p,_,v)=>{if(d==null)r(p.el=a(p.children),_,v);else{const b=p.el=d.el;p.children!==d.children&&u(b,p.children)}},R=(d,p,_,v)=>{d==null?r(p.el=l(p.children||""),_,v):p.el=d.el},C=(d,p,_,v)=>{[d.el,d.anchor]=m(d.children,p,_,v,d.el,d.anchor)},E=({el:d,anchor:p},_,v)=>{let b;for(;d&&d!==p;)b=f(d),r(d,_,v),d=b;r(p,_,v)},T=({el:d,anchor:p})=>{let _;for(;d&&d!==p;)_=f(d),n(d),d=_;n(p)},U=(d,p,_,v,b,w,O,x,P)=>{p.type==="svg"?O="svg":p.type==="math"&&(O="mathml"),d==null?K(p,_,v,b,w,O,x,P):G(d,p,b,w,O,x,P)},K=(d,p,_,v,b,w,O,x)=>{let P,A;const{props:M,shapeFlag:I,transition:D,dirs:F}=d;if(P=d.el=o(d.type,w,M&&M.is,M),I&8?c(P,d.children):I&16&&z(d.children,P,null,v,b,sn(d,w),O,x),F&&Nt(d,null,v,"created"),q(P,d,d.scopeId,O,v),M){for(const ie in M)ie!=="value"&&!As(ie)&&i(P,ie,null,M[ie],w,v);"value"in M&&i(P,"value",null,M.value,w),(A=M.onVnodeBeforeMount)&&et(A,v,d)}F&&Nt(d,null,v,"beforeMount");const J=Zc(b,D);J&&D.beforeEnter(P),r(P,p,_),((A=M&&M.onVnodeMounted)||J||F)&&De(()=>{A&&et(A,v,d),J&&D.enter(P),F&&Nt(d,null,v,"mounted")},b)},q=(d,p,_,v,b)=>{if(_&&g(d,_),v)for(let w=0;w<v.length;w++)g(d,v[w]);if(b){let w=b.subTree;if(p===w||Ca(w.type)&&(w.ssContent===p||w.ssFallback===p)){const O=b.vnode;q(d,O,O.scopeId,O.slotScopeIds,b.parent)}}},z=(d,p,_,v,b,w,O,x,P=0)=>{for(let A=P;A<d.length;A++){const M=d[A]=x?Tt(d[A]):rt(d[A]);S(null,M,p,_,v,b,w,O,x)}},G=(d,p,_,v,b,w,O)=>{const x=p.el=d.el;let{patchFlag:P,dynamicChildren:A,dirs:M}=p;P|=d.patchFlag&16;const I=d.props||re,D=p.props||re;let F;if(_&&Ft(_,!1),(F=D.onVnodeBeforeUpdate)&&et(F,_,p,d),M&&Nt(p,d,_,"beforeUpdate"),_&&Ft(_,!0),(I.innerHTML&&D.innerHTML==null||I.textContent&&D.textContent==null)&&c(x,""),A?ue(d.dynamicChildren,A,x,_,v,sn(p,b),w):O||Y(d,p,x,null,_,v,sn(p,b),w,!1),P>0){if(P&16)Ee(x,I,D,_,b);else if(P&2&&I.class!==D.class&&i(x,"class",null,D.class,b),P&4&&i(x,"style",I.style,D.style,b),P&8){const J=p.dynamicProps;for(let ie=0;ie<J.length;ie++){const ee=J[ie],Oe=I[ee],Ce=D[ee];(Ce!==Oe||ee==="value")&&i(x,ee,Oe,Ce,b,_)}}P&1&&d.children!==p.children&&c(x,p.children)}else!O&&A==null&&Ee(x,I,D,_,b);((F=D.onVnodeUpdated)||M)&&De(()=>{F&&et(F,_,p,d),M&&Nt(p,d,_,"updated")},v)},ue=(d,p,_,v,b,w,O)=>{for(let x=0;x<p.length;x++){const P=d[x],A=p[x],M=P.el&&(P.type===ze||!ws(P,A)||P.shapeFlag&198)?h(P.el):_;S(P,A,M,null,v,b,w,O,!0)}},Ee=(d,p,_,v,b)=>{if(p!==_){if(p!==re)for(const w in p)!As(w)&&!(w in _)&&i(d,w,p[w],null,b,v);for(const w in _){if(As(w))continue;const O=_[w],x=p[w];O!==x&&w!=="value"&&i(d,w,x,O,b,v)}"value"in _&&i(d,"value",p.value,_.value,b)}},Le=(d,p,_,v,b,w,O,x,P)=>{const A=p.el=d?d.el:a(""),M=p.anchor=d?d.anchor:a("");let{patchFlag:I,dynamicChildren:D,slotScopeIds:F}=p;F&&(x=x?x.concat(F):F),d==null?(r(A,_,v),r(M,_,v),z(p.children||[],_,M,b,w,O,x,P)):I>0&&I&64&&D&&d.dynamicChildren?(ue(d.dynamicChildren,D,_,b,w,O,x),(p.key!=null||b&&p===b.subTree)&&Ta(d,p,!0)):Y(d,p,_,M,b,w,O,x,P)},xe=(d,p,_,v,b,w,O,x,P)=>{p.slotScopeIds=x,d==null?p.shapeFlag&512?b.ctx.activate(p,_,v,O,P):Mt(p,_,v,b,w,O,P):wt(d,p,P)},Mt=(d,p,_,v,b,w,O)=>{const x=d.component=mu(d,v,b);if(ha(d)&&(x.ctx.renderer=L),vu(x,!1,O),x.asyncDep){if(b&&b.registerDep(x,ce,O),!d.el){const P=x.subTree=de(Lt);R(null,P,p,_)}}else ce(x,d,p,_,b,w,O)},wt=(d,p,_)=>{const v=p.component=d.component;if(lu(d,p,_))if(v.asyncDep&&!v.asyncResolved){V(v,p,_);return}else v.next=p,v.update();else p.el=d.el,v.vnode=p},ce=(d,p,_,v,b,w,O)=>{const x=()=>{if(d.isMounted){let{next:I,bu:D,u:F,parent:J,vnode:ie}=d;{const Xe=Pa(d);if(Xe){I&&(I.el=ie.el,V(d,I,O)),Xe.asyncDep.then(()=>{d.isUnmounted||x()});return}}let ee=I,Oe;Ft(d,!1),I?(I.el=ie.el,V(d,I,O)):I=ie,D&&cr(D),(Oe=I.props&&I.props.onVnodeBeforeUpdate)&&et(Oe,J,I,ie),Ft(d,!0);const Ce=Pi(d),Ye=d.subTree;d.subTree=Ce,S(Ye,Ce,h(Ye.el),y(Ye),d,b,w),I.el=Ce.el,ee===null&&cu(d,Ce.el),F&&De(F,b),(Oe=I.props&&I.props.onVnodeUpdated)&&De(()=>et(Oe,J,I,ie),b)}else{let I;const{el:D,props:F}=p,{bm:J,m:ie,parent:ee,root:Oe,type:Ce}=d,Ye=Rs(p);Ft(d,!1),J&&cr(J),!Ye&&(I=F&&F.onVnodeBeforeMount)&&et(I,ee,p),Ft(d,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ce);const Xe=d.subTree=Pi(d);S(null,Xe,_,v,d,b,w),p.el=Xe.el}if(ie&&De(ie,b),!Ye&&(I=F&&F.onVnodeMounted)){const Xe=p;De(()=>et(I,ee,Xe),b)}(p.shapeFlag&256||ee&&Rs(ee.vnode)&&ee.vnode.shapeFlag&256)&&d.a&&De(d.a,b),d.isMounted=!0,p=_=v=null}};d.scope.on();const P=d.effect=new No(x);d.scope.off();const A=d.update=P.run.bind(P),M=d.job=P.runIfDirty.bind(P);M.i=d,M.id=d.uid,P.scheduler=()=>Zn(M),Ft(d,!0),A()},V=(d,p,_)=>{p.component=d;const v=d.vnode.props;d.vnode=p,d.next=null,Wc(d,p.props,v,_),Qc(d,p.children,_),mt(),yi(d),vt()},Y=(d,p,_,v,b,w,O,x,P=!1)=>{const A=d&&d.children,M=d?d.shapeFlag:0,I=p.children,{patchFlag:D,shapeFlag:F}=p;if(D>0){if(D&128){bt(A,I,_,v,b,w,O,x,P);return}else if(D&256){at(A,I,_,v,b,w,O,x,P);return}}F&8?(M&16&&Fe(A,b,w),I!==A&&c(_,I)):M&16?F&16?bt(A,I,_,v,b,w,O,x,P):Fe(A,b,w,!0):(M&8&&c(_,""),F&16&&z(I,_,v,b,w,O,x,P))},at=(d,p,_,v,b,w,O,x,P)=>{d=d||as,p=p||as;const A=d.length,M=p.length,I=Math.min(A,M);let D;for(D=0;D<I;D++){const F=p[D]=P?Tt(p[D]):rt(p[D]);S(d[D],F,_,null,b,w,O,x,P)}A>M?Fe(d,b,w,!0,!1,I):z(p,_,v,b,w,O,x,P,I)},bt=(d,p,_,v,b,w,O,x,P)=>{let A=0;const M=p.length;let I=d.length-1,D=M-1;for(;A<=I&&A<=D;){const F=d[A],J=p[A]=P?Tt(p[A]):rt(p[A]);if(ws(F,J))S(F,J,_,null,b,w,O,x,P);else break;A++}for(;A<=I&&A<=D;){const F=d[I],J=p[D]=P?Tt(p[D]):rt(p[D]);if(ws(F,J))S(F,J,_,null,b,w,O,x,P);else break;I--,D--}if(A>I){if(A<=D){const F=D+1,J=F<M?p[F].el:v;for(;A<=D;)S(null,p[A]=P?Tt(p[A]):rt(p[A]),_,J,b,w,O,x,P),A++}}else if(A>D)for(;A<=I;)Re(d[A],b,w,!0),A++;else{const F=A,J=A,ie=new Map;for(A=J;A<=D;A++){const Ue=p[A]=P?Tt(p[A]):rt(p[A]);Ue.key!=null&&ie.set(Ue.key,A)}let ee,Oe=0;const Ce=D-J+1;let Ye=!1,Xe=0;const vs=new Array(Ce);for(A=0;A<Ce;A++)vs[A]=0;for(A=F;A<=I;A++){const Ue=d[A];if(Oe>=Ce){Re(Ue,b,w,!0);continue}let Ze;if(Ue.key!=null)Ze=ie.get(Ue.key);else for(ee=J;ee<=D;ee++)if(vs[ee-J]===0&&ws(Ue,p[ee])){Ze=ee;break}Ze===void 0?Re(Ue,b,w,!0):(vs[Ze-J]=A+1,Ze>=Xe?Xe=Ze:Ye=!0,S(Ue,p[Ze],_,null,b,w,O,x,P),Oe++)}const di=Ye?eu(vs):as;for(ee=di.length-1,A=Ce-1;A>=0;A--){const Ue=J+A,Ze=p[Ue],pi=Ue+1<M?p[Ue+1].el:v;vs[A]===0?S(null,Ze,_,pi,b,w,O,x,P):Ye&&(ee<0||A!==di[ee]?Qe(Ze,_,pi,2):ee--)}}},Qe=(d,p,_,v,b=null)=>{const{el:w,type:O,transition:x,children:P,shapeFlag:A}=d;if(A&6){Qe(d.component.subTree,p,_,v);return}if(A&128){d.suspense.move(p,_,v);return}if(A&64){O.move(d,p,_,L);return}if(O===ze){r(w,p,_);for(let I=0;I<P.length;I++)Qe(P[I],p,_,v);r(d.anchor,p,_);return}if(O===rn){E(d,p,_);return}if(v!==2&&A&1&&x)if(v===0)x.beforeEnter(w),r(w,p,_),De(()=>x.enter(w),b);else{const{leave:I,delayLeave:D,afterLeave:F}=x,J=()=>{d.ctx.isUnmounted?n(w):r(w,p,_)},ie=()=>{I(w,()=>{J(),F&&F()})};D?D(w,J,ie):ie()}else r(w,p,_)},Re=(d,p,_,v=!1,b=!1)=>{const{type:w,props:O,ref:x,children:P,dynamicChildren:A,shapeFlag:M,patchFlag:I,dirs:D,cacheIndex:F}=d;if(I===-2&&(b=!1),x!=null&&(mt(),xs(x,null,_,d,!0),vt()),F!=null&&(p.renderCache[F]=void 0),M&256){p.ctx.deactivate(d);return}const J=M&1&&D,ie=!Rs(d);let ee;if(ie&&(ee=O&&O.onVnodeBeforeUnmount)&&et(ee,p,d),M&6)er(d.component,_,v);else{if(M&128){d.suspense.unmount(_,v);return}J&&Nt(d,null,p,"beforeUnmount"),M&64?d.type.remove(d,p,_,L,v):A&&!A.hasOnce&&(w!==ze||I>0&&I&64)?Fe(A,p,_,!1,!0):(w===ze&&I&384||!b&&M&16)&&Fe(P,p,_),v&&Qt(d)}(ie&&(ee=O&&O.onVnodeUnmounted)||J)&&De(()=>{ee&&et(ee,p,d),J&&Nt(d,null,p,"unmounted")},_)},Qt=d=>{const{type:p,el:_,anchor:v,transition:b}=d;if(p===ze){Yt(_,v);return}if(p===rn){T(d);return}const w=()=>{n(_),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:O,delayLeave:x}=b,P=()=>O(_,w);x?x(d.el,w,P):P()}else w()},Yt=(d,p)=>{let _;for(;d!==p;)_=f(d),n(d),d=_;n(p)},er=(d,p,_)=>{const{bum:v,scope:b,job:w,subTree:O,um:x,m:P,a:A,parent:M,slots:{__:I}}=d;Ti(P),Ti(A),v&&cr(v),M&&N(I)&&I.forEach(D=>{M.renderCache[D]=void 0}),b.stop(),w&&(w.flags|=8,Re(O,d,p,_)),x&&De(x,p),De(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Fe=(d,p,_,v=!1,b=!1,w=0)=>{for(let O=w;O<d.length;O++)Re(d[O],p,_,v,b)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),_=p&&p[wc];return _?f(_):p};let $=!1;const j=(d,p,_)=>{d==null?p._vnode&&Re(p._vnode,null,null,!0):S(p._vnode||null,d,p,null,null,null,_),p._vnode=d,$||($=!0,yi(),oa(),$=!1)},L={p:S,um:Re,m:Qe,r:Qt,mt:Mt,mc:z,pc:Y,pbc:ue,n:y,o:t};return{render:j,hydrate:void 0,createApp:Hc(j)}}function sn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ft({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Zc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ta(t,e,s=!1){const r=t.children,n=e.children;if(N(r)&&N(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Tt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ta(o,a)),a.type===Mr&&(a.el=o.el),a.type===Lt&&!a.el&&(a.el=o.el)}}function eu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Pa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pa(e)}function Ti(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const tu=Symbol.for("v-scx"),su=()=>qe(tu);function Cs(t,e,s){return xa(t,e,s)}function xa(t,e,s=re){const{immediate:r,deep:n,flush:i,once:o}=s,a=Se({},s),l=e&&r||!e&&i!=="post";let u;if(Vs){if(i==="sync"){const g=su();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=nt,g.resume=nt,g.pause=nt,g}}const c=me;a.call=(g,m,S)=>ot(g,c,m,S);let h=!1;i==="post"?a.scheduler=g=>{De(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,m)=>{m?g():Zn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const f=_c(t,e,a);return Vs&&(u?u.push(f):l&&f()),f}function ru(t,e,s){const r=this.proxy,n=pe(t)?t.includes(".")?Ra(r,t):()=>r[t]:t.bind(r,r);let i;B(e)?i=e:(i=e.handler,s=e);const o=Ys(this),a=xa(n,i.bind(r),s);return o(),a}function Ra(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const nu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${He(e)}Modifiers`]||t[`${Ut(e)}Modifiers`];function iu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||re;let n=s;const i=e.startsWith("update:"),o=i&&nu(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>pe(c)?c.trim():c)),o.number&&(n=s.map(dr)));let a,l=r[a=Qr(e)]||r[a=Qr(He(e))];!l&&i&&(l=r[a=Qr(Ut(e))]),l&&ot(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ot(u,t,6,n)}}function Oa(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!B(t)){const l=u=>{const c=Oa(u,e,!0);c&&(a=!0,Se(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ne(t)&&r.set(t,null),null):(N(i)?i.forEach(l=>o[l]=null):Se(o,i),ne(t)&&r.set(t,o),o)}function Dr(t,e){return!t||!Pr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,Ut(e))||Z(t,e))}function Pi(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:g,ctx:m,inheritAttrs:S}=t,k=vr(t);let R,C;try{if(s.shapeFlag&4){const T=n||r,U=T;R=rt(u.call(U,T,c,h,g,f,m)),C=a}else{const T=e;R=rt(T.length>1?T(h,{attrs:a,slots:o,emit:l}):T(h,null)),C=e.props?a:ou(a)}}catch(T){js.length=0,$r(T,t,1),R=de(Lt)}let E=R;if(C&&S!==!1){const T=Object.keys(C),{shapeFlag:U}=E;T.length&&U&7&&(i&&T.some(Bn)&&(C=au(C,i)),E=fs(E,C,!1,!0))}return s.dirs&&(E=fs(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&ei(E,s.transition),R=E,vr(k),R}const ou=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pr(s))&&((e||(e={}))[s]=t[s]);return e},au=(t,e)=>{const s={};for(const r in t)(!Bn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function lu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?xi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Dr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xi(r,o,u):!0:!!o;return!1}function xi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Dr(s,i))return!0}return!1}function cu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ca=t=>t.__isSuspense;function uu(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):yc(t)}const ze=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),js=[];let Ne=null;function fe(t=!1){js.push(Ne=t?null:[])}function hu(){js.pop(),Ne=js[js.length-1]||null}let Hs=1;function Ri(t,e=!1){Hs+=t,t<0&&Ne&&e&&(Ne.hasOnce=!0)}function ja(t){return t.dynamicChildren=Hs>0?Ne||as:null,hu(),Hs>0&&Ne&&Ne.push(t),t}function ye(t,e,s,r,n,i){return ja(te(t,e,s,r,n,i,!0))}function wr(t,e,s,r,n){return ja(de(t,e,s,r,n,!0))}function br(t){return t?t.__v_isVNode===!0:!1}function ws(t,e){return t.type===e.type&&t.key===e.key}const Ia=({key:t})=>t??null,hr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||he(t)||B(t)?{i:$e,r:t,k:e,f:!!s}:t:null);function te(t,e=null,s=null,r=0,n=null,i=t===ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ia(e),ref:e&&hr(e),scopeId:la,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$e};return a?(ii(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=pe(s)?8:16),Hs>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const de=fu;function fu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===$c)&&(t=Lt),br(t)){const a=fs(t,e,!0);return s&&ii(a,s),Hs>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(t)]=a:Ne.push(a)),a.patchFlag=-2,a}if(Eu(t)&&(t=t.__vccOpts),e){e=du(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=It(a)),ne(l)&&(Yn(l)&&!N(l)&&(l=Se({},l)),e.style=Vn(l))}const o=pe(t)?1:Ca(t)?128:bc(t)?64:ne(t)?4:B(t)?2:0;return te(t,e,s,r,n,o,i,!0)}function du(t){return t?Yn(t)||wa(t)?Se({},t):t:null}function fs(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?pu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ia(u),ref:e&&e.ref?s&&i?N(i)?i.concat(hr(e)):[i,hr(e)]:hr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fs(t.ssContent),ssFallback:t.ssFallback&&fs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ei(c,l.clone(c)),c}function Vt(t=" ",e=0){return de(Mr,null,t,e)}function dt(t="",e=!1){return e?(fe(),wr(Lt,null,t)):de(Lt,null,t)}function rt(t){return t==null||typeof t=="boolean"?de(Lt):N(t)?de(ze,null,t.slice()):br(t)?Tt(t):de(Mr,null,String(t))}function Tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:fs(t)}function ii(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(N(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ii(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!wa(e)?e._ctx=$e:n===3&&$e&&($e.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:$e},s=32):(e=String(e),r&64?(s=16,e=[Vt(e)]):s=8);t.children=e,t.shapeFlag|=s}function pu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=It([e.class,r.class]));else if(n==="style")e.style=Vn([e.style,r.style]);else if(Pr(n)){const i=e[n],o=r[n];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function et(t,e,s,r=null){ot(t,e,7,[s,r])}const gu=ma();let _u=0;function mu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||gu,i={uid:_u++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sa(r,n),emitsOptions:Oa(r,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=iu.bind(null,i),t.ce&&t.ce(i),i}let me=null,Sr,An;{const t=Cr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Sr=e("__VUE_INSTANCE_SETTERS__",s=>me=s),An=e("__VUE_SSR_SETTERS__",s=>Vs=s)}const Ys=t=>{const e=me;return Sr(t),t.scope.on(),()=>{t.scope.off(),Sr(e)}},Oi=()=>{me&&me.scope.off(),Sr(null)};function $a(t){return t.vnode.shapeFlag&4}let Vs=!1;function vu(t,e=!1,s=!1){e&&An(e);const{props:r,children:n}=t.vnode,i=$a(t);Kc(t,r,i,e),Jc(t,n,s||e);const o=i?yu(t,e):void 0;return e&&An(!1),o}function yu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Uc);const{setup:r}=s;if(r){mt();const n=t.setupContext=r.length>1?bu(t):null,i=Ys(t),o=Qs(r,t,0,[t.props,n]),a=Oo(o);if(vt(),i(),(a||t.sp)&&!Rs(t)&&ua(t),a){if(o.then(Oi,Oi),e)return o.then(l=>{Ci(t,l)}).catch(l=>{$r(l,t,0)});t.asyncDep=o}else Ci(t,o)}else La(t)}function Ci(t,e,s){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=sa(e)),La(t)}function La(t,e,s){const r=t.type;t.render||(t.render=r.render||nt);{const n=Ys(t);mt();try{Dc(t)}finally{vt(),n()}}}const wu={get(t,e){return be(t,"get",""),t[e]}};function bu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,wu),slots:t.slots,emit:t.emit,expose:e}}function Nr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sa(Xn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Os)return Os[s](t)},has(e,s){return s in e||s in Os}})):t.proxy}function Su(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function Eu(t){return B(t)&&"__vccOpts"in t}const Me=(t,e)=>pc(t,e,Vs);function Ua(t,e,s){const r=arguments.length;return r===2?ne(e)&&!N(e)?br(e)?de(t,null,[e]):de(t,e):de(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&br(s)&&(s=[s]),de(t,e,s))}const ku="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tn;const ji=typeof window<"u"&&window.trustedTypes;if(ji)try{Tn=ji.createPolicy("vue",{createHTML:t=>t})}catch{}const Da=Tn?t=>Tn.createHTML(t):t=>t,Au="http://www.w3.org/2000/svg",Tu="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,Ii=ht&&ht.createElement("template"),Pu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ht.createElementNS(Au,t):e==="mathml"?ht.createElementNS(Tu,t):s?ht.createElement(t,{is:s}):ht.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ht.createTextNode(t),createComment:t=>ht.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ht.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ii.innerHTML=Da(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ii.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},xu=Symbol("_vtc");function Ru(t,e,s){const r=t[xu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const $i=Symbol("_vod"),Ou=Symbol("_vsh"),Cu=Symbol(""),ju=/(^|;)\s*display\s*:/;function Iu(t,e,s){const r=t.style,n=pe(s);let i=!1;if(s&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&fr(r,a,"")}else for(const o in e)s[o]==null&&fr(r,o,"");for(const o in s)o==="display"&&(i=!0),fr(r,o,s[o])}else if(n){if(e!==s){const o=r[Cu];o&&(s+=";"+o),r.cssText=s,i=ju.test(s)}}else e&&t.removeAttribute("style");$i in t&&(t[$i]=i?r.display:"",t[Ou]&&(r.display="none"))}const Li=/\s*!important$/;function fr(t,e,s){if(N(s))s.forEach(r=>fr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=$u(t,e);Li.test(s)?t.setProperty(Ut(r),s.replace(Li,""),"important"):t[r]=s}}const Ui=["Webkit","Moz","ms"],nn={};function $u(t,e){const s=nn[e];if(s)return s;let r=He(e);if(r!=="filter"&&r in t)return nn[e]=r;r=Or(r);for(let n=0;n<Ui.length;n++){const i=Ui[n]+r;if(i in t)return nn[e]=i}return e}const Di="http://www.w3.org/1999/xlink";function Mi(t,e,s,r,n,i=Dl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Di,e.slice(6,e.length)):t.setAttributeNS(Di,e,s):s==null||i&&!Io(s)?t.removeAttribute(e):t.setAttribute(e,i?"":it(s)?String(s):s)}function Ni(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Da(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Io(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Kt(t,e,s,r){t.addEventListener(e,s,r)}function Lu(t,e,s,r){t.removeEventListener(e,s,r)}const Fi=Symbol("_vei");function Uu(t,e,s,r,n=null){const i=t[Fi]||(t[Fi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Du(e);if(r){const u=i[e]=Fu(r,n);Kt(t,a,u,l)}else o&&(Lu(t,a,o,l),i[e]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function Du(t){let e;if(Bi.test(t)){e={};let r;for(;r=t.match(Bi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ut(t.slice(2)),e]}let on=0;const Mu=Promise.resolve(),Nu=()=>on||(Mu.then(()=>on=0),on=Date.now());function Fu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ot(Bu(r,s.value),e,5,[r])};return s.value=t,s.attached=Nu(),s}function Bu(t,e){if(N(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const qi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Ru(t,r,o):e==="style"?Iu(t,s,r):Pr(e)?Bn(e)||Uu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Hu(t,e,r,o))?(Ni(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(r))?Ni(t,He(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Mi(t,e,r,o))};function Hu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&qi(e)&&B(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qi(e)&&pe(s)?!1:e in t}const Er=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?s=>cr(e,s):e};function Vu(t){t.target.composing=!0}function Hi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const us=Symbol("_assign"),ag={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[us]=Er(n);const i=r||n.props&&n.props.type==="number";Kt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=dr(a)),t[us](a)}),s&&Kt(t,"change",()=>{t.value=t.value.trim()}),e||(Kt(t,"compositionstart",Vu),Kt(t,"compositionend",Hi),Kt(t,"change",Hi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[us]=Er(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?dr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},lg={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=xr(e);Kt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?dr(kr(o)):kr(o));t[us](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Lr(()=>{t._assigning=!1})}),t[us]=Er(r)},mounted(t,{value:e}){Vi(t,e)},beforeUpdate(t,e,s){t[us]=Er(s)},updated(t,{value:e}){t._assigning||Vi(t,e)}};function Vi(t,e){const s=t.multiple,r=N(e);if(!(s&&!r&&!xr(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=kr(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Nl(e,a)>-1}else o.selected=e.has(a);else if(jr(kr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function kr(t){return"_value"in t?t._value:t.value}const Ku=["ctrl","shift","alt","meta"],Wu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ku.some(s=>t[`${s}Key`]&&!e.includes(s))},cg=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Wu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},zu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ug=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Ut(n.key);if(e.some(o=>o===i||zu[o]===i))return t(n)})},Gu=Se({patchProp:qu},Pu);let Ki;function Ju(){return Ki||(Ki=Yc(Gu))}const Qu=(...t)=>{const e=Ju().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Xu(r);if(!n)return;const i=e._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Yu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Yu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xu(t){return pe(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ma;const Fr=t=>Ma=t,Na=Symbol();function Pn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Is;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Is||(Is={}));function Zu(){const t=Do(!0),e=t.run(()=>hs({}));let s=[],r=[];const n=Xn({install(i){Fr(n),n._a=i,i.provide(Na,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Fa=()=>{};function Wi(t,e,s,r=Fa){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Mo()&&Fl(n),n}function Zt(t,...e){t.slice().forEach(s=>{s(...e)})}const eh=t=>t(),zi=Symbol(),an=Symbol();function xn(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Pn(n)&&Pn(r)&&t.hasOwnProperty(s)&&!he(r)&&!_t(r)?t[s]=xn(n,r):t[s]=r}return t}const th=Symbol();function sh(t){return!Pn(t)||!t.hasOwnProperty(th)}const{assign:Et}=Object;function rh(t){return!!(he(t)&&t.effect)}function nh(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=cc(s.state.value[t]);return Et(c,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Xn(Me(()=>{Fr(s);const g=s._s.get(t);return o[f].call(g,g)})),h),{}))}return l=Ba(t,u,e,s,r,!0),l}function Ba(t,e,s={},r,n,i){let o;const a=Et({actions:{}},s),l={deep:!0};let u,c,h=[],f=[],g;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),hs({});let S;function k(z){let G;u=c=!1,typeof z=="function"?(z(r.state.value[t]),G={type:Is.patchFunction,storeId:t,events:g}):(xn(r.state.value[t],z),G={type:Is.patchObject,payload:z,storeId:t,events:g});const ue=S=Symbol();Lr().then(()=>{S===ue&&(u=!0)}),c=!0,Zt(h,G,r.state.value[t])}const R=i?function(){const{state:G}=s,ue=G?G():{};this.$patch(Ee=>{Et(Ee,ue)})}:Fa;function C(){o.stop(),h=[],f=[],r._s.delete(t)}const E=(z,G="")=>{if(zi in z)return z[an]=G,z;const ue=function(){Fr(r);const Ee=Array.from(arguments),Le=[],xe=[];function Mt(V){Le.push(V)}function wt(V){xe.push(V)}Zt(f,{args:Ee,name:ue[an],store:U,after:Mt,onError:wt});let ce;try{ce=z.apply(this&&this.$id===t?this:U,Ee)}catch(V){throw Zt(xe,V),V}return ce instanceof Promise?ce.then(V=>(Zt(Le,V),V)).catch(V=>(Zt(xe,V),Promise.reject(V))):(Zt(Le,ce),ce)};return ue[zi]=!0,ue[an]=G,ue},T={_p:r,$id:t,$onAction:Wi.bind(null,f),$patch:k,$reset:R,$subscribe(z,G={}){const ue=Wi(h,z,G.detached,()=>Ee()),Ee=o.run(()=>Cs(()=>r.state.value[t],Le=>{(G.flush==="sync"?c:u)&&z({storeId:t,type:Is.direct,events:g},Le)},Et({},l,G)));return ue},$dispose:C},U=Js(T);r._s.set(t,U);const q=(r._a&&r._a.runWithContext||eh)(()=>r._e.run(()=>(o=Do()).run(()=>e({action:E}))));for(const z in q){const G=q[z];if(he(G)&&!rh(G)||_t(G))i||(m&&sh(G)&&(he(G)?G.value=m[z]:xn(G,m[z])),r.state.value[t][z]=G);else if(typeof G=="function"){const ue=E(G,z);q[z]=ue,a.actions[z]=G}}return Et(U,q),Et(Q(U),q),Object.defineProperty(U,"$state",{get:()=>r.state.value[t],set:z=>{k(G=>{Et(G,z)})}}),r._p.forEach(z=>{Et(U,o.run(()=>z({store:U,app:r._a,pinia:r,options:a})))}),m&&i&&s.hydrate&&s.hydrate(U.$state,m),u=!0,c=!0,U}/*! #__NO_SIDE_EFFECTS__ */function qa(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=Vc();return a=a||(u?qe(Na,null):null),a&&Fr(a),a=Ma,a._s.has(r)||(i?Ba(r,e,n,a):nh(r,n,a)),a._s.get(r)}return o.$id=r,o}function hg(t){{const e=Q(t),s={};for(const r in e){const n=e[r];n.effect?s[r]=Me({get:()=>t[r],set(i){t[r]=i}}):(he(n)||_t(n))&&(s[r]=fc(t,r))}return s}}const ih="modulepreload",oh=function(t){return"/"+t},Gi={},Ae=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=oh(l),l in Gi)return;Gi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ih,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ae(async()=>{const{default:r}=await Promise.resolve().then(()=>_s);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class oi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class lh extends oi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ji extends oi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qi extends oi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Rn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Rn||(Rn={}));var ch=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uh{constructor(e,{headers:s={},customFetch:r,region:n=Rn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ah(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return ch(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(S=>{throw new lh(S)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Ji(h);if(!h.ok)throw new Qi(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield h.json():g==="application/octet-stream"?m=yield h.blob():g==="text/event-stream"?m=h:g==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof Qi||n instanceof Ji?n.context:void 0}}})}}var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Ie={},ai={},Br={},Xs={},qr={},Hr={},fh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=fh();const dh=ds.fetch,Ha=ds.fetch.bind(ds),Va=ds.Headers,ph=ds.Request,gh=ds.Response,_s=Object.freeze(Object.defineProperty({__proto__:null,Headers:Va,Request:ph,Response:gh,default:Ha,fetch:dh},Symbol.toStringTag,{value:"Module"})),_h=hh(_s);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});let mh=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vr.default=mh;var Ka=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});const vh=Ka(_h),yh=Ka(Vr);let wh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const R=await i.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=R:c=JSON.parse(R))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");S&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,g="OK")}catch{i.status===404&&S===""?(f=204,g="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new yh.default(u)}return{error:u,data:c,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Hr.default=wh;var bh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const Sh=bh(Hr);let Eh=class extends Sh.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qr.default=Eh;var kh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});const Ah=kh(qr);let Th=class extends Ah.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Xs.default=Th;var Ph=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});const bs=Ph(Xs);let xh=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new bs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new bs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new bs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new bs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new bs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Br.default=xh;var Kr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.version=void 0;Wr.version="0.0.0-automated";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.DEFAULT_HEADERS=void 0;const Rh=Wr;Kr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rh.version}`};var Wa=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});const Oh=Wa(Br),Ch=Wa(Xs),jh=Kr;let Ih=class za{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},jh.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Oh.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new za(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ch.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ai.default=Ih;var ms=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const Ga=ms(ai);Ie.PostgrestClient=Ga.default;const Ja=ms(Br);Ie.PostgrestQueryBuilder=Ja.default;const Qa=ms(Xs);Ie.PostgrestFilterBuilder=Qa.default;const Ya=ms(qr);Ie.PostgrestTransformBuilder=Ya.default;const Xa=ms(Hr);Ie.PostgrestBuilder=Xa.default;const Za=ms(Vr);Ie.PostgrestError=Za.default;var $h=Ie.default={PostgrestClient:Ga.default,PostgrestQueryBuilder:Ja.default,PostgrestFilterBuilder:Qa.default,PostgrestTransformBuilder:Ya.default,PostgrestBuilder:Xa.default,PostgrestError:Za.default};const{PostgrestClient:Lh,PostgrestQueryBuilder:mg,PostgrestFilterBuilder:vg,PostgrestTransformBuilder:yg,PostgrestBuilder:wg,PostgrestError:bg}=$h;function Uh(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Dh=Uh(),Mh="2.11.15",Nh=`realtime-js/${Mh}`,Fh="1.0.0",el=1e4,Bh=1e3;var $s;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($s||($s={}));var ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ve||(ve={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var On;(function(t){t.websocket="websocket"})(On||(On={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class qh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class tl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Yi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Hh(o,t,e,n),i),{})},Hh=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?sl(i,o):Cn(o)},sl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return zh(e,s)}switch(t){case oe.bool:return Vh(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Kh(e);case oe.json:case oe.jsonb:return Wh(e);case oe.timestamp:return Gh(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Cn(e);default:return Cn(e)}},Cn=t=>t,Vh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Kh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zh=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>sl(e,a))}return t},Gh=t=>typeof t=="string"?t.replace(" ","T"):t,rl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ln{constructor(e,s,r={},n=el){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Xi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Xi||(Xi={}));class Ls{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ls.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ls.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(k=>k.presence_ref),g=h.map(k=>k.presence_ref),m=c.filter(k=>g.indexOf(k.presence_ref)<0),S=h.filter(k=>f.indexOf(k.presence_ref)<0);m.length>0&&(a[u]=m),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),f=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zi||(Zi={}));var eo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(eo||(eo={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class li{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ln(this,We.join,this.params,this.timeout),this.rejoinTimer=new tl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ls(this),this.broadcastEndpointURL=rl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(ft.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ft.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let S=0;S<g;S++){const k=f[S],{filter:{event:R,schema:C,table:E,filter:T}}=k,U=c&&c[S];if(U&&U.event===R&&U.schema===C&&U.table===E&&U.filter===T)m.push(Object.assign(Object.assign({},k),{id:U.id}));else{this.unsubscribe(),this.state=ve.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ft.SUBSCRIBED);return}}).receive("error",c=>{this.state=ve.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new ln(this,We.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ln(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=We;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var m,S,k;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(S=g.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,S,k,R,C,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,U=(m=g.filter)===null||m===void 0?void 0:m.event;return T&&((S=s.ids)===null||S===void 0?void 0:S.includes(T))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const T=(C=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:S,table:k,commit_timestamp:R,type:C,errors:E}=m;f=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:R,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(m))}g.callback(f,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&li.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Yi(e.columns,e.old_record)),s}}const to=()=>{},Jh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qh{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=el,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=to,this.ref=0,this.logger=to,this.conn=null,this.sendBuffer=[],this.serializer=new qh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ae(async()=>{const{default:l}=await Promise.resolve().then(()=>_s);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${On.websocket}`,this.httpEndpoint=rl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new tl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Dh),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fh}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $s.connecting:return Wt.Connecting;case $s.open:return Wt.Open;case $s.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new li(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Nh};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Bh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Jh],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ci extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Yh extends ci{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jn extends ci{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Xh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const nl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ae(async()=>{const{default:r}=await Promise.resolve().then(()=>_s);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Zh=()=>Xh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ae(()=>Promise.resolve().then(()=>_s),void 0)).Response:Response}),In=t=>{if(Array.isArray(t))return t.map(s=>In(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=In(r)}),e};var Jt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ef=(t,e,s)=>Jt(void 0,void 0,void 0,function*(){const r=yield Zh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Yh(cn(n),t.status||500))}).catch(n=>{e(new jn(cn(n),n))}):e(new jn(cn(t),t))}),tf=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Zs(t,e,s,r,n,i){return Jt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,tf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ef(l,a,r))})})}function Ar(t,e,s,r){return Jt(this,void 0,void 0,function*(){return Zs(t,"GET",e,s,r)})}function Pt(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return Zs(t,"POST",e,r,n,s)})}function sf(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return Zs(t,"PUT",e,r,n,s)})}function rf(t,e,s,r){return Jt(this,void 0,void 0,function*(){return Zs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function il(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return Zs(t,"DELETE",e,r,n,s)})}var je=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const nf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},so={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class of{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=nl(n)}uploadOrUpdate(e,s,r,n){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},so),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(e,s,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:so.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ci("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(e,s,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return je(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(e,s,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return je(this,void 0,void 0,function*(){try{const n=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(e,s){return je(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ar(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(e){return je(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:In(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(e){return je(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield rf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof jn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}list(e,s,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},nf),s),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const af="2.7.1",lf={"X-Client-Info":`storage-js/${af}`};var es=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class cf{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},lf),s),this.fetch=nl(r)}listBuckets(){return es(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return es(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return es(this,void 0,void 0,function*(){try{return{data:yield sf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}deleteBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}}class uf extends cf{constructor(e,s={},r){super(e,s,r)}from(e){return new of(this.url,this.headers,e,this.fetch)}}const hf="2.50.3";let ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";const ff={"X-Client-Info":`supabase-js-${ks}/${hf}`},df={headers:ff},pf={schema:"public"},gf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_f={};var mf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const vf=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ha:e=fetch,(...s)=>e(...s)},yf=()=>typeof Headers>"u"?Va:Headers,wf=(t,e,s)=>{const r=vf(s),n=yf();return(i,o)=>mf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var bf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Sf(t){return t.endsWith("/")?t:t+"/"}function Ef(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bf(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ol="2.70.0",is=30*1e3,$n=3,un=$n*is,kf="http://localhost:9999",Af="supabase.auth.token",Tf={"X-Client-Info":`gotrue-js/${ol}`},Ln="X-Supabase-Api-Version",al={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xf=6e5;class ui extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Rf extends ui{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Of(t){return H(t)&&t.name==="AuthApiError"}class ll extends ui{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Dt extends ui{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class kt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cf(t){return H(t)&&t.name==="AuthSessionMissingError"}class nr extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ir extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class or extends Dt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jf(t){return H(t)&&t.name==="AuthImplicitGrantRedirectError"}class ro extends Dt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Un extends Dt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function hn(t){return H(t)&&t.name==="AuthRetryableFetchError"}class no extends Dt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Us extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),io=` 	
\r=`.split(""),If=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<io.length;e+=1)t[io[e].charCodeAt(0)]=-2;for(let e=0;e<Tr.length;e+=1)t[Tr[e].charCodeAt(0)]=e;return t})();function oo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Tr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Tr[r]),e.queuedBits-=6}}function cl(t,e,s){const r=If[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ao(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Uf(o,r,s)};for(let o=0;o<t.length;o+=1)cl(t.charCodeAt(o),n,i);return e.join("")}function $f(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Lf(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}$f(r,e)}}function Uf(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Df(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)cl(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Mf(t){const e=[];return Lf(t,s=>e.push(s)),new Uint8Array(e)}function Nf(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>oo(n,s,r)),oo(null,s,r),e.join("")}function Ff(t){return Math.round(Date.now()/1e3)+t}function Bf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},Ds=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function qf(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ul=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ae(async()=>{const{default:r}=await Promise.resolve().then(()=>_s);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Hf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hl=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ar=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},lr=async(t,e)=>{await t.removeItem(e)};class zr{constructor(){this.promise=new zr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}zr.promiseConstructor=Promise;function fn(t){const e=t.split(".");if(e.length!==3)throw new Us("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pf.test(e[r]))throw new Us("JWT not in base64url format");return{header:JSON.parse(ao(e[0])),payload:JSON.parse(ao(e[1])),signature:Df(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Kf(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Wf(t){return("0"+t.toString(16)).substr(-2)}function zf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Wf).join("")}async function Gf(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Jf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Gf(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(t,e,s=!1){const r=zf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await hl(t,`${e}-code-verifier`,n);const i=await Jf(r);return[i,r===i?"plain":"s256"]}const Qf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yf(t){const e=t.headers.get(Ln);if(!e||!e.match(Qf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ed=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ss(t){if(!ed.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var td=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sd=[502,503,504];async function lo(t){var e;if(!Hf(t))throw new Un(Ht(t),0);if(sd.includes(t.status))throw new Un(Ht(t),t.status);let s;try{s=await t.json()}catch(i){throw new ll(Ht(i),i)}let r;const n=Yf(t);if(n&&n.getTime()>=al["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new no(Ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new no(Ht(s),t.status,s.weak_password.reasons);throw new Rf(Ht(s),t.status||500,r)}const rd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function W(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Ln]||(i[Ln]=al["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function nd(t,e,s,r,n,i){const o=rd(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Un(Ht(l),0)}if(a.ok||await lo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await lo(l)}}function ut(t){var e;let s=null;ld(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Ff(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function co(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function id(t){return{data:t,error:null}}function od(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=td(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ad(t){return t}function ld(t){return t.access_token&&t.refresh_token&&t.expires_in}const dn=["global","local","others"];var cd=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class ud{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ul(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=dn[0]){if(dn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dn.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Rt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=cd(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:od,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:ad});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const S=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=S}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ss(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ss(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Rt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){ss(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Rt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ss(e.userId);try{const{data:s,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ss(e.userId),ss(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}const hd={getItem:t=>Ds()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ds()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ds()&&globalThis.localStorage.removeItem(t)}};function uo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function fd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rs={debug:!!(globalThis&&Ds()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dd extends fl{}async function pd(t,e,s){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}fd();const gd={url:kf,storageKey:Af,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ho(t,e,s){return await s()}class Ks{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},gd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ud({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ul(n.fetch),this.lock=n.lock||ho,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ke()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=pd:this.lock=ho,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ds()?this.storage=hd:(this.memoryStorage={},this.storage=uo(this.memoryStorage)):(this.memoryStorage={},this.storage=uo(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ol}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=qf(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ke()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return H(s)?{error:s}:{error:new ll("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ut}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await ts(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:ut})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new ir("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:co})}else throw new ir("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,f,g;let m,S;if("message"in e)m=e.message,S=e.signature;else{const{chain:k,wallet:R,statement:C,options:E}=e;let T;if(Ke())if(typeof R=="object")T=R;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))T=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=R}const U=new URL((s=E==null?void 0:E.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in T&&T.signIn){const K=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),C?{statement:C}:null));let q;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")q=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)q=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)m=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),S=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${U.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(n=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E==null?void 0:E.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(c=E==null?void 0:E.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const K=await T.signMessage(new TextEncoder().encode(m),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:k,error:R}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Nf(S)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ut});if(R)throw R;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new nr}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:R})}catch(k){if(H(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const s=await ar(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ut});if(await lr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new nr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ut}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ts(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ir("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ts(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:id})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new kt;const{error:n}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await W(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ir("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<un:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(s){if(H(s))return Cf(s)&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new kt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ts(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Rt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=fn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new kt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ke())throw new or("No browser detected.");if(e.error||e.error_description||e.error_code)throw new or(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ro("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new or("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ro("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new or("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const g=f-c;g*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=f-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(H(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Of(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Bf(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ts(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(H(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Kf(async n=>(n>0&&await Vf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(n,i)=>{const o=200*Math.pow(2,n);return i&&hn(i)&&Date.now()+o-r<is})}catch(r){if(this._debug(s,"error",r),H(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ke()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ar(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<un;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${un}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),hn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new zr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),H(i)){const o={session:null,error:i};return hn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await lr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${is}ms, refresh threshold is ${$n} ticks`),n<=$n&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ts(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+xf>Date.now()))return r;const{data:n,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Us("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Us("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=fn(r);if(Xf(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Zf(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Mf(`${a}.${l}`)))throw new Us("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}Ks.nextInstanceID=0;const _d=Ks;class md extends _d{constructor(e){super(e)}}var vd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class yd{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Sf(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:pf,realtime:_f,auth:Object.assign(Object.assign({},gf),{storageKey:u}),global:df},h=Ef(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=wf(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Lh(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new uh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uf(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return vd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new md({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Qh(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wd=(t,e,s)=>new yd(t,e,s),bd="https://jysvjfoovvkctnoxatro.supabase.co",Sd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5c3ZqZm9vdnZrY3Rub3hhdHJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2NjA3NDEsImV4cCI6MjA2NzIzNjc0MX0.7NHiDx-qm65NwxgsJ9KYzKp0fFRkw0HDJQnFsBB9EDM",Te=wd(bd,Sd),jt=qa("auth",{state:()=>({user:null,loading:!0,error:null}),actions:{async initializeAuth(){this.loading=!0,this.error=null;try{console.log("AuthStore: initializeAuth - Obteniendo sesión de Supabase...");const{data:{user:t}}=await Te.auth.getUser();await this.setUser(t),console.log("AuthStore: initializeAuth - Finalizado. User:",this.user)}catch(t){this.error=t.message,this.user=null,console.error("AuthStore: Error al inicializar autenticación o cargar perfil:",t.message)}finally{this.loading=!1}},async setUser(t){var e,s;if(!t){this.user!==null&&(this.user=null,console.log("AuthStore: Usuario limpiado (setUser con null)."));return}if(((e=this.user)==null?void 0:e.id)===t.id&&((s=this.user)!=null&&s.role)){console.log("AuthStore: setUser - Usuario ya cargado con perfil completo, omitiendo re-fetch.");return}console.log("AuthStore: setUser - detecta cambio/perfil incompleto. Cargando perfil..."),this.user=t,await this.fetchUserProfile(t.id)},async login(t,e){this.loading=!0,this.error=null;try{const{data:s,error:r}=await Te.auth.signInWithPassword({email:t,password:e});if(r)throw r;return await this.setUser(s.user),console.log("AuthStore: login - Usuario logueado e info actualizada."),{success:!0}}catch(s){return this.error=s.message,console.error("AuthStore: Error al iniciar sesión:",s.message),{success:!1,error:s.message}}finally{this.loading=!1}},async register(t,e,s,r,n="student"){this.loading=!0,this.error=null;try{const{data:i,error:o}=await Te.auth.signUp({email:t,password:r});if(o)throw new Error(`AuthStore: Error al registrar en Supabase Auth: ${o.message}`);if(i.user){const{data:a,error:l}=await Te.from("users").insert([{id:i.user.id,email:i.user.email,role:n,alias:s,avatar_url:" "}]).select().single();if(l)throw new Error(`AuthStore: Error al insertar en la tabla 'users': ${l.message}`);if(console.log("AuthStore: register - Insertado en tabla users:",a),await this.setUser(i.user),n==="student"){const{error:u}=await Te.from("students").insert([{user_id:i.user.id,code:e}]);if(u)throw new Error(`AuthStore: Error al insertar en 'students': ${u.message}`);console.log("AuthStore: register - Insertado en tabla students.")}else if(n==="admin"){const{error:u}=await Te.from("admins").insert([{user_id:i.user.id}]);if(u)throw new Error(`AuthStore: Error al insertar en 'admins': ${u.message}`);console.log("AuthStore: register - Insertado en tabla admins.")}return{success:!0}}}catch(i){return this.error=i.message,console.error("AuthStore: Error durante el proceso de registro:",i.message),{success:!1,error:i.message}}finally{this.loading=!1}},async fetchUserProfile(t){this.error=null;try{console.log("AuthStore: fetchUserProfile - Cargando perfil para userId:",t);const{data:e,error:s}=await Te.from("users").select("*, students(code), admins(*)").eq("id",t).single();if(s)throw s;this.user?this.user={...this.user,...e}:this.user=e,e.students&&e.students.length>0&&(this.user.code=e.students[0].code),console.log("AuthStore: fetchUserProfile - Perfil de usuario cargado y combinado:",this.user)}catch(e){this.error=e.message,console.error("AuthStore: Error al cargar el perfil del usuario:",e.message)}finally{}},async signOut(){this.loading=!0,this.error=null;try{const{error:t}=await Te.auth.signOut();if(t)throw t;return this.user=null,console.log("AuthStore: Sesión cerrada."),{success:!0}}catch(t){return this.error=t.message,console.error("AuthStore: Error al cerrar sesión:",t.message),{success:!1,error:t.message}}finally{this.loading=!1}}},getters:{isAuthenticated:t=>!!t.user&&!!t.user.id&&!!t.user.role,isAdmin:t=>{var e;return((e=t.user)==null?void 0:e.role)==="admin"},isAuthLoading:t=>t.loading}}),Ed="/assets/logo-BItymt6G.png";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const os=typeof document<"u";function dl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&dl(t.default)}const X=Object.assign;function pn(t,e){const s={};for(const r in e){const n=e[r];s[r]=Je(n)?n.map(t):t(n)}return s}const Ms=()=>{},Je=Array.isArray,pl=/#/g,Ad=/&/g,Td=/\//g,Pd=/=/g,xd=/\?/g,gl=/\+/g,Rd=/%5B/g,Od=/%5D/g,_l=/%5E/g,Cd=/%60/g,ml=/%7B/g,jd=/%7C/g,vl=/%7D/g,Id=/%20/g;function hi(t){return encodeURI(""+t).replace(jd,"|").replace(Rd,"[").replace(Od,"]")}function $d(t){return hi(t).replace(ml,"{").replace(vl,"}").replace(_l,"^")}function Dn(t){return hi(t).replace(gl,"%2B").replace(Id,"+").replace(pl,"%23").replace(Ad,"%26").replace(Cd,"`").replace(ml,"{").replace(vl,"}").replace(_l,"^")}function Ld(t){return Dn(t).replace(Pd,"%3D")}function Ud(t){return hi(t).replace(pl,"%23").replace(xd,"%3F")}function Dd(t){return t==null?"":Ud(t).replace(Td,"%2F")}function Ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Md=/\/$/,Nd=t=>t.replace(Md,"");function gn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Hd(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Ws(o)}}function Fd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function fo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Bd(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&ps(e.matched[r],s.matched[n])&&yl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ps(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function yl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!qd(t[s],e[s]))return!1;return!0}function qd(t,e){return Je(t)?po(t,e):Je(e)?po(e,t):t===e}function po(t,e){return Je(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Hd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var zs;(function(t){t.pop="pop",t.push="push"})(zs||(zs={}));var Ns;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ns||(Ns={}));function Vd(t){if(!t)if(os){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Nd(t)}const Kd=/^[^#]+#/;function Wd(t,e){return t.replace(Kd,"#")+e}function zd(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Gr=()=>({left:window.scrollX,top:window.scrollY});function Gd(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=zd(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function go(t,e){return(history.state?history.state.position-e:-1)+t}const Mn=new Map;function Jd(t,e){Mn.set(t,e)}function Qd(t){const e=Mn.get(t);return Mn.delete(t),e}let Yd=()=>location.protocol+"//"+location.host;function wl(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),fo(l,"")}return fo(s,t)+r+n}function Xd(t,e,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const g=wl(t,location),m=s.value,S=e.value;let k=0;if(f){if(s.value=g,e.value=f,o&&o===m){o=null;return}k=S?f.position-S.position:0}else r(g);n.forEach(R=>{R(s.value,m,{delta:k,type:zs.pop,direction:k?k>0?Ns.forward:Ns.back:Ns.unknown})})};function l(){o=s.value}function u(f){n.push(f);const g=()=>{const m=n.indexOf(f);m>-1&&n.splice(m,1)};return i.push(g),g}function c(){const{history:f}=window;f.state&&f.replaceState(X({},f.state,{scroll:Gr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function _o(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Gr():null}}function Zd(t){const{history:e,location:s}=window,r={value:wl(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Yd()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](f)}}function o(l,u){const c=X({},e.state,_o(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=X({},n.value,e.state,{forward:l,scroll:Gr()});i(c.current,c,!0);const h=X({},_o(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function ep(t){t=Vd(t);const e=Zd(t),s=Xd(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=X({location:"",base:t,go:r,createHref:Wd.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function tp(t){return typeof t=="string"||t&&typeof t=="object"}function bl(t){return typeof t=="string"||typeof t=="symbol"}const Sl=Symbol("");var mo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(mo||(mo={}));function gs(t,e){return X(new Error,{type:t,[Sl]:!0},e)}function ct(t,e){return t instanceof Error&&Sl in t&&(e==null||!!(t.type&e))}const vo="[^/]+?",sp={sensitive:!1,strict:!1,start:!0,end:!0},rp=/[.+*?^${}()[\]/\\]/g;function np(t,e){const s=X({},sp,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let g=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(rp,"\\$&"),g+=40;else if(f.type===1){const{value:m,repeatable:S,optional:k,regexp:R}=f;i.push({name:m,repeatable:S,optional:k});const C=R||vo;if(C!==vo){g+=10;try{new RegExp(`(${C})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+T.message)}}let E=S?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(E=k&&u.length<2?`(?:/${E})`:"/"+E),k&&(E+="?"),n+=E,g+=20,k&&(g+=-8),S&&(g+=-20),C===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const g=c[f]||"",m=i[f-1];h[m.name]=g&&m.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of f)if(g.type===0)c+=g.value;else if(g.type===1){const{value:m,repeatable:S,optional:k}=g,R=m in u?u[m]:"";if(Je(R)&&!S)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=Je(R)?R.join("/"):R;if(!C)if(k)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);c+=C}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function ip(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function El(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=ip(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(yo(r))return 1;if(yo(n))return-1}return n.length-r.length}function yo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const op={type:0,value:""},ap=/[a-zA-Z0-9_]/;function lp(t){if(!t)return[[]];if(t==="/")return[[op]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:ap.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function cp(t,e,s){const r=np(lp(t.path),s),n=X(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function up(t,e){const s=[],r=new Map;e=Eo({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,f,g){const m=!g,S=bo(h);S.aliasOf=g&&g.record;const k=Eo(e,h),R=[S];if("alias"in h){const T=typeof h.alias=="string"?[h.alias]:h.alias;for(const U of T)R.push(bo(X({},S,{components:g?g.record.components:S.components,path:U,aliasOf:g?g.record:S})))}let C,E;for(const T of R){const{path:U}=T;if(f&&U[0]!=="/"){const K=f.record.path,q=K[K.length-1]==="/"?"":"/";T.path=f.record.path+(U&&q+U)}if(C=cp(T,f,k),g?g.alias.push(C):(E=E||C,E!==C&&E.alias.push(C),m&&h.name&&!So(C)&&o(h.name)),kl(C)&&l(C),S.children){const K=S.children;for(let q=0;q<K.length;q++)i(K[q],C,g&&g.children[q])}g=g||C}return E?()=>{o(E)}:Ms}function o(h){if(bl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=dp(h,s);s.splice(f,0,h),h.record.name&&!So(h)&&r.set(h.record.name,h)}function u(h,f){let g,m={},S,k;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw gs(1,{location:h});k=g.record.name,m=X(wo(f.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&wo(h.params,g.keys.map(E=>E.name))),S=g.stringify(m)}else if(h.path!=null)S=h.path,g=s.find(E=>E.re.test(S)),g&&(m=g.parse(S),k=g.record.name);else{if(g=f.name?r.get(f.name):s.find(E=>E.re.test(f.path)),!g)throw gs(1,{location:h,currentLocation:f});k=g.record.name,m=X({},f.params,h.params),S=g.stringify(m)}const R=[];let C=g;for(;C;)R.unshift(C.record),C=C.parent;return{name:k,path:S,params:m,matched:R,meta:fp(R)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function wo(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function bo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hp(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hp(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function So(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fp(t){return t.reduce((e,s)=>X(e,s.meta),{})}function Eo(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function dp(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;El(t,e[i])<0?r=i:s=i+1}const n=pp(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function pp(t){let e=t;for(;e=e.parent;)if(kl(e)&&El(t,e)===0)return e}function kl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function gp(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(gl," "),o=i.indexOf("="),a=Ws(o<0?i:i.slice(0,o)),l=o<0?null:Ws(i.slice(o+1));if(a in e){let u=e[a];Je(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ko(t){let e="";for(let s in t){const r=t[s];if(s=Ld(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Je(r)?r.map(i=>i&&Dn(i)):[r&&Dn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function _p(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Je(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const mp=Symbol(""),Ao=Symbol(""),Jr=Symbol(""),fi=Symbol(""),Nn=Symbol("");function Ss(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function xt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(gs(4,{from:s,to:e})):f instanceof Error?l(f):tp(f)?l(gs(2,{from:e,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function _n(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(dl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(xt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=kd(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&xt(g,s,r,o,a,n)()}))}}return i}function To(t){const e=qe(Jr),s=qe(fi),r=Me(()=>{const l=le(t.to);return e.resolve(l)}),n=Me(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(ps.bind(null,c));if(f>-1)return f;const g=Po(l[u-2]);return u>1&&Po(c)===g&&h[h.length-1].path!==g?h.findIndex(ps.bind(null,l[u-2])):f}),i=Me(()=>n.value>-1&&Sp(s.params,r.value.params)),o=Me(()=>n.value>-1&&n.value===s.matched.length-1&&yl(s.params,r.value.params));function a(l={}){if(bp(l)){const u=e[le(t.replace)?"replace":"push"](le(t.to)).catch(Ms);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Me(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function vp(t){return t.length===1?t[0]:t}const yp=ca({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:To,setup(t,{slots:e}){const s=Js(To(t)),{options:r}=qe(Jr),n=Me(()=>({[xo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[xo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&vp(e.default(s));return t.custom?i:Ua("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),wp=yp;function bp(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sp(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Je(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Po(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const xo=(t,e,s)=>t??e??s,Ep=ca({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=qe(Nn),n=Me(()=>t.route||r.value),i=qe(Ao,0),o=Me(()=>{let u=le(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Me(()=>n.value.matched[o.value]);ur(Ao,Me(()=>o.value+1)),ur(mp,a),ur(Nn,n);const l=hs();return Cs(()=>[l.value,a.value,t.name],([u,c,h],[f,g,m])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!ps(c,g)||!f)&&(c.enterCallbacks[h]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return Ro(s.default,{Component:f,route:u});const g=h.props[c],m=g?g===!0?u.params:typeof g=="function"?g(u):g:null,k=Ua(f,X({},m,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Ro(s.default,{Component:k,route:u})||k}}});function Ro(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const kp=Ep;function Ap(t){const e=up(t.routes,t),s=t.parseQuery||gp,r=t.stringifyQuery||ko,n=t.history,i=Ss(),o=Ss(),a=Ss(),l=oc(St);let u=St;os&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=pn.bind(null,y=>""+y),h=pn.bind(null,Dd),f=pn.bind(null,Ws);function g(y,$){let j,L;return bl(y)?(j=e.getRecordMatcher(y),L=$):L=y,e.addRoute(L,j)}function m(y){const $=e.getRecordMatcher(y);$&&e.removeRoute($)}function S(){return e.getRoutes().map(y=>y.record)}function k(y){return!!e.getRecordMatcher(y)}function R(y,$){if($=X({},$||l.value),typeof y=="string"){const _=gn(s,y,$.path),v=e.resolve({path:_.path},$),b=n.createHref(_.fullPath);return X(_,v,{params:f(v.params),hash:Ws(_.hash),redirectedFrom:void 0,href:b})}let j;if(y.path!=null)j=X({},y,{path:gn(s,y.path,$.path).path});else{const _=X({},y.params);for(const v in _)_[v]==null&&delete _[v];j=X({},y,{params:h(_)}),$.params=h($.params)}const L=e.resolve(j,$),se=y.hash||"";L.params=c(f(L.params));const d=Fd(r,X({},y,{hash:$d(se),path:L.path})),p=n.createHref(d);return X({fullPath:d,hash:se,query:r===ko?_p(y.query):y.query||{}},L,{redirectedFrom:void 0,href:p})}function C(y){return typeof y=="string"?gn(s,y,l.value.path):X({},y)}function E(y,$){if(u!==y)return gs(8,{from:$,to:y})}function T(y){return q(y)}function U(y){return T(X(C(y),{replace:!0}))}function K(y){const $=y.matched[y.matched.length-1];if($&&$.redirect){const{redirect:j}=$;let L=typeof j=="function"?j(y):j;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=C(L):{path:L},L.params={}),X({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function q(y,$){const j=u=R(y),L=l.value,se=y.state,d=y.force,p=y.replace===!0,_=K(j);if(_)return q(X(C(_),{state:typeof _=="object"?X({},se,_.state):se,force:d,replace:p}),$||j);const v=j;v.redirectedFrom=$;let b;return!d&&Bd(r,L,j)&&(b=gs(16,{to:v,from:L}),Qe(L,L,!0,!1)),(b?Promise.resolve(b):ue(v,L)).catch(w=>ct(w)?ct(w,2)?w:bt(w):Y(w,v,L)).then(w=>{if(w){if(ct(w,2))return q(X({replace:p},C(w.to),{state:typeof w.to=="object"?X({},se,w.to.state):se,force:d}),$||v)}else w=Le(v,L,!0,p,se);return Ee(v,L,w),w})}function z(y,$){const j=E(y,$);return j?Promise.reject(j):Promise.resolve()}function G(y){const $=Yt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(y):y()}function ue(y,$){let j;const[L,se,d]=Tp(y,$);j=_n(L.reverse(),"beforeRouteLeave",y,$);for(const _ of L)_.leaveGuards.forEach(v=>{j.push(xt(v,y,$))});const p=z.bind(null,y,$);return j.push(p),Fe(j).then(()=>{j=[];for(const _ of i.list())j.push(xt(_,y,$));return j.push(p),Fe(j)}).then(()=>{j=_n(se,"beforeRouteUpdate",y,$);for(const _ of se)_.updateGuards.forEach(v=>{j.push(xt(v,y,$))});return j.push(p),Fe(j)}).then(()=>{j=[];for(const _ of d)if(_.beforeEnter)if(Je(_.beforeEnter))for(const v of _.beforeEnter)j.push(xt(v,y,$));else j.push(xt(_.beforeEnter,y,$));return j.push(p),Fe(j)}).then(()=>(y.matched.forEach(_=>_.enterCallbacks={}),j=_n(d,"beforeRouteEnter",y,$,G),j.push(p),Fe(j))).then(()=>{j=[];for(const _ of o.list())j.push(xt(_,y,$));return j.push(p),Fe(j)}).catch(_=>ct(_,8)?_:Promise.reject(_))}function Ee(y,$,j){a.list().forEach(L=>G(()=>L(y,$,j)))}function Le(y,$,j,L,se){const d=E(y,$);if(d)return d;const p=$===St,_=os?history.state:{};j&&(L||p?n.replace(y.fullPath,X({scroll:p&&_&&_.scroll},se)):n.push(y.fullPath,se)),l.value=y,Qe(y,$,j,p),bt()}let xe;function Mt(){xe||(xe=n.listen((y,$,j)=>{if(!er.listening)return;const L=R(y),se=K(L);if(se){q(X(se,{replace:!0,force:!0}),L).catch(Ms);return}u=L;const d=l.value;os&&Jd(go(d.fullPath,j.delta),Gr()),ue(L,d).catch(p=>ct(p,12)?p:ct(p,2)?(q(X(C(p.to),{force:!0}),L).then(_=>{ct(_,20)&&!j.delta&&j.type===zs.pop&&n.go(-1,!1)}).catch(Ms),Promise.reject()):(j.delta&&n.go(-j.delta,!1),Y(p,L,d))).then(p=>{p=p||Le(L,d,!1),p&&(j.delta&&!ct(p,8)?n.go(-j.delta,!1):j.type===zs.pop&&ct(p,20)&&n.go(-1,!1)),Ee(L,d,p)}).catch(Ms)}))}let wt=Ss(),ce=Ss(),V;function Y(y,$,j){bt(y);const L=ce.list();return L.length?L.forEach(se=>se(y,$,j)):console.error(y),Promise.reject(y)}function at(){return V&&l.value!==St?Promise.resolve():new Promise((y,$)=>{wt.add([y,$])})}function bt(y){return V||(V=!y,Mt(),wt.list().forEach(([$,j])=>y?j(y):$()),wt.reset()),y}function Qe(y,$,j,L){const{scrollBehavior:se}=t;if(!os||!se)return Promise.resolve();const d=!j&&Qd(go(y.fullPath,0))||(L||!j)&&history.state&&history.state.scroll||null;return Lr().then(()=>se(y,$,d)).then(p=>p&&Gd(p)).catch(p=>Y(p,y,$))}const Re=y=>n.go(y);let Qt;const Yt=new Set,er={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:S,resolve:R,options:t,push:T,replace:U,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:at,install(y){const $=this;y.component("RouterLink",wp),y.component("RouterView",kp),y.config.globalProperties.$router=$,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),os&&!Qt&&l.value===St&&(Qt=!0,T(n.location).catch(se=>{}));const j={};for(const se in St)Object.defineProperty(j,se,{get:()=>l.value[se],enumerable:!0});y.provide(Jr,$),y.provide(fi,Zo(j)),y.provide(Nn,l);const L=y.unmount;Yt.add(y),y.unmount=function(){Yt.delete(y),Yt.size<1&&(u=St,xe&&xe(),xe=null,l.value=St,Qt=!1,V=!1),L()}}};function Fe(y){return y.reduce(($,j)=>$.then(()=>G(j)),Promise.resolve())}return er}function Tp(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>ps(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ps(u,l))||n.push(l))}return[s,r,n]}function Pp(){return qe(Jr)}function xp(t){return qe(fi)}const Rp=qa("notification",{state:()=>({notifications:[],loading:!1,error:null,supabaseSubscription:null}),getters:{unreadNotificationsCount:t=>t.notifications.filter(e=>!e.read).length},actions:{async fetchNotifications(t=null){var r;this.loading=!0,this.error=null;const s=(r=jt().user)==null?void 0:r.id;if(!s){this.error="Usuario no autenticado para cargar notificaciones.",this.loading=!1;return}try{let n=Te.from("notifications").select("*").eq("user_id",s).order("created_at",{ascending:!1});t!==null&&(n=n.limit(t));const{data:i,error:o}=await n;if(o)throw o;this.notifications=i}catch(n){this.error=n.message||"Error al cargar notificaciones.",console.error("Error fetching notifications:",n.message)}finally{this.loading=!1}},async addNotification(t){this.loading=!0,this.error=null;try{const{error:e}=await Te.from("notifications").insert([t]);if(e)throw e;console.log("Notificación insertada exitosamente.")}catch(e){this.error=e.message||"Error al agregar notificación.",console.error("Error adding notification:",e.message)}finally{this.loading=!1}},async markAllAsRead(){var s;this.loading=!0,this.error=null;const e=(s=jt().user)==null?void 0:s.id;if(!e){this.error="Usuario no autenticado para marcar notificaciones.",this.loading=!1;return}try{const{error:r}=await Te.from("notifications").update({read:!0,updated_at:new Date().toISOString()}).eq("user_id",e).eq("read",!1);if(r)throw r;console.log("Todas las notificaciones marcadas como leídas."),this.notifications=this.notifications.map(n=>({...n,read:!0}))}catch(r){this.error=r.message||"Error al marcar notificaciones como leídas.",console.error("Error marking notifications as read:",r.message)}finally{this.loading=!1}},async setupRealtimeNotifications(){var s;const e=(s=jt().user)==null?void 0:s.id;if(!e){console.warn("No user ID found for realtime notifications setup.");return}this.supabaseSubscription&&(Te.removeChannel(this.supabaseSubscription),this.supabaseSubscription=null),console.log(`Setting up realtime notifications for user: ${e}`),this.supabaseSubscription=Te.channel(`notifications:user_id=eq.${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},r=>{console.log("Nueva notificación en tiempo real:",r.new),this.notifications.unshift(r.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${e}`},r=>{console.log("Notificación actualizada en tiempo real:",r.new);const n=this.notifications.findIndex(i=>i.id===r.new.id);n!==-1&&(this.notifications[n]=r.new)}).subscribe()},unsubscribeRealtimeNotifications(){this.supabaseSubscription&&(Te.removeChannel(this.supabaseSubscription),this.supabaseSubscription=null,console.log("Realtime notifications unsubscribed."))}}}),Al=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Op={class:"app-header"},Cp={class:"header-title"},jp={class:"header-actions"},Ip={class:"notification-area"},$p={key:0,class:"notification-badge"},Lp={key:0,class:"notifications-dropdown"},Up={key:0,class:"status-message"},Dp={key:1,class:"error-message"},Mp={key:2},Np={key:3,class:"status-message"},Fp={class:"profile-dropdown-toggle"},Bp=["src"],qp={class:"profile-alias"},Hp={key:0,class:"dropdown-menu"},Vp=["disabled"],Kp={__name:"TheHeader",props:{headerTitle:{type:String,required:!1,default:""},showBackButton:{type:Boolean,default:!1},backRoute:{type:String,default:"/feed"}},setup(t){const e=Pp(),s=jt(),r=Rp(),n=hs(!1),i=hs(!1),o=()=>{n.value=!n.value},a=()=>{i.value=!i.value,i.value&&r.fetchNotifications(20)},l=async()=>{await r.markAllAsRead(),r.fetchNotifications(20)},u=h=>{const f=document.querySelector(".dropdown-container");f&&!f.contains(h.target)&&(n.value=!1);const g=document.querySelector(".notification-area");g&&!g.contains(h.target)&&(i.value=!1)},c=async()=>{await s.signOut(),e.push("/login")};return da(()=>{s.user&&(r.setupRealtimeNotifications(),r.fetchNotifications(20)),document.addEventListener("click",u)}),ti(()=>{r.unsubscribeRealtimeNotifications(),document.removeEventListener("click",u)}),(h,f)=>{var m,S;const g=si("router-link");return fe(),ye("header",Op,[de(g,{to:"/feed",class:"logo-link"},{default:Ot(()=>f[0]||(f[0]=[te("img",{src:Ed,alt:"Logo PUBLISOFT",class:"logo"},null,-1)])),_:1,__:[0]}),t.showBackButton?(fe(),wr(g,{key:0,to:t.backRoute,class:"back-to-previous"},{default:Ot(()=>f[1]||(f[1]=[te("i",{class:"fas fa-arrow-left"},null,-1),Vt(" Volver ")])),_:1,__:[1]},8,["to"])):dt("",!0),te("h2",Cp,st(t.headerTitle),1),te("div",jp,[te("div",Ip,[te("button",{onClick:a,class:"notification-icon"},[f[2]||(f[2]=te("i",{class:"fas fa-bell"},null,-1)),le(r).unreadNotificationsCount>0?(fe(),ye("span",$p,st(le(r).unreadNotificationsCount),1)):dt("",!0)]),i.value?(fe(),ye("div",Lp,[le(r).loading?(fe(),ye("p",Up,"Cargando notificaciones...")):le(r).error?(fe(),ye("p",Dp,st(le(r).error),1)):le(r).notifications.length>0?(fe(),ye("ul",Mp,[(fe(!0),ye(ze,null,pa(le(r).notifications,k=>(fe(),ye("li",{key:k.id,class:It({unread:!k.read})},[Vt(st(k.message)+" ",1),f[3]||(f[3]=te("br",null,null,-1)),te("small",null,st(new Date(k.created_at).toLocaleString("es-ES")),1)],2))),128))])):(fe(),ye("p",Np,"No hay notificaciones.")),de(g,{to:"/notifications",class:"view-all-notifications-button"},{default:Ot(()=>[Vt(" Ver todas las notificaciones ("+st(le(r).notifications.length)+" mostradas) ",1)]),_:1}),le(r).notifications.length>0&&le(r).unreadNotificationsCount>0?(fe(),ye("button",{key:4,onClick:l,class:"mark-read-button"}," Marcar todas como leídas ")):dt("",!0)])):dt("",!0)]),le(s).user?(fe(),ye("div",{key:0,class:"dropdown-container",onClick:o},[te("button",Fp,[te("img",{src:((m=le(s).user)==null?void 0:m.avatar_url)||"https://via.placeholder.com/40/CCCCCC/FFFFFF?text=AV",alt:"Avatar del usuario",class:"profile-avatar"},null,8,Bp),te("span",qp,st(((S=le(s).user)==null?void 0:S.alias)||"Mi Perfil"),1),te("i",{class:It(["fas fa-caret-down dropdown-arrow",{"rotate-180":n.value}])},null,2)]),n.value?(fe(),ye("div",Hp,[de(g,{to:"/profile",class:"dropdown-item"},{default:Ot(()=>f[4]||(f[4]=[te("i",{class:"fas fa-user-circle dropdown-icon"},null,-1),Vt(" Mi Perfil ")])),_:1,__:[4]}),te("button",{onClick:c,disabled:le(s).loading,class:"dropdown-item logout-button-in-menu"},f[5]||(f[5]=[te("i",{class:"fas fa-sign-out-alt dropdown-icon"},null,-1),Vt(" Cerrar Sesión ")]),8,Vp)])):dt("",!0)])):dt("",!0)])])}}},Wp=Al(Kp,[["__scopeId","data-v-72b67e3a"]]),zp={class:"side-navigation"},Gp={class:"user-profile"},Jp=["src"],Qp={class:"profile-name"},Yp={class:"nav-menu"},Xp={class:"nav-text"},Zp={key:0},eg={__name:"SideNavigation",setup(t){const e=jt(),s=xp(),r=[{path:"/feed",label:"Inicio",icon:"fas fa-home"},{path:"/notifications",label:"Notificaciones",icon:"fas fa-bell"},{path:"/ranking",label:"Ranking",icon:"fas fa-trophy"},{path:"/resources",label:"Recursos académicos",icon:"fas fa-book"}],n=i=>s.path.startsWith(i);return(i,o)=>{const a=si("router-link");return fe(),ye("aside",zp,[te("div",Gp,[de(a,{to:"/profile",class:"profile-link"},{default:Ot(()=>{var l,u;return[te("img",{src:((l=le(e).user)==null?void 0:l.avatar_url)||"https://via.placeholder.com/40/CCCCCC/FFFFFF?text=AV",alt:"Avatar del usuario",class:"profile-avatar"},null,8,Jp),te("span",Qp,st(((u=le(e).user)==null?void 0:u.alias)||"Mi Perfil"),1)]}),_:1})]),te("nav",Yp,[te("ul",null,[(fe(),ye(ze,null,pa(r,l=>te("li",{key:l.path,class:It({active:n(l.path)})},[de(a,{to:l.path,class:"nav-item"},{default:Ot(()=>[te("i",{class:It(l.icon)},null,2),te("span",Xp,st(l.label),1)]),_:2},1032,["to"])],2)),64)),le(e).isAdmin?(fe(),ye("li",Zp,[de(a,{to:"/dashboard","active-class":"active-link"},{default:Ot(()=>o[0]||(o[0]=[te("i",{class:"fas fa-tools"},null,-1),Vt(),te("span",null,"Panel Admin",-1)])),_:1,__:[0]})])):dt("",!0)])])])}}},tg=Al(eg,[["__scopeId","data-v-c288166f"]]),sg={class:"app-container"},rg={__name:"App",setup(t){const e=jt();return(s,r)=>{const n=si("router-view");return fe(),ye("div",sg,[le(e).isAuthenticated?(fe(),wr(Wp,{key:0})):dt("",!0),le(e).isAuthenticated?(fe(),wr(tg,{key:1})):dt("",!0),te("main",{class:It(["main-content",{"full-width":!le(e).isAuthenticated}])},[de(n)],2)])}}},ng=[{path:"/",name:"Home",redirect:"/feed"},{path:"/login",name:"Login",component:()=>Ae(()=>import("./Login-CVRPWs21.js"),__vite__mapDeps([0,1])),meta:{public:!0}},{path:"/register",name:"Register",component:()=>Ae(()=>import("./Register-CxZhHLAT.js"),[]),meta:{public:!0}},{path:"/feed",name:"Feed",component:()=>Ae(()=>import("./Feed-C4RFUo8h.js"),__vite__mapDeps([2,3,4,5,6,7,8])),meta:{requiresAuth:!0}},{path:"/resources",name:"Resources",component:()=>Ae(()=>import("./Resources-D5SLlXbT.js"),__vite__mapDeps([9,3,4,5,6,7,10])),meta:{requiresAuth:!0}},{path:"/myposts",name:"MyPublications",component:()=>Ae(()=>import("./MyPublications-lRbPF6tY.js"),[]),meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:()=>Ae(()=>import("./Profile-COPVsCDg.js"),__vite__mapDeps([11,3,12])),meta:{requiresAuth:!0}},{path:"/notifications",name:"Notifications",component:()=>Ae(()=>import("./Notifications-C1512QO4.js"),__vite__mapDeps([13,14])),meta:{requiresAuth:!0}},{path:"/ranking",name:"Ranking",component:()=>Ae(()=>import("./Ranking-Ds2P-g4w.js"),__vite__mapDeps([15,16])),meta:{requiresAuth:!0}},{path:"/users/:userId",name:"UserProfile",component:()=>Ae(()=>import("./UserProfileView-BIyTv2a2.js"),__vite__mapDeps([17,6,3,7,18])),meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:()=>Ae(()=>import("./Dashboard-BROvoDUh.js"),__vite__mapDeps([19,20])),meta:{requiresAuth:!0}}],Tl=Ap({history:ep(),routes:ng});Tl.beforeEach(async(t,e,s)=>{var a;const r=jt();r.isAuthLoading&&(console.log(`RouterGuard: Esperando que authStore.isAuthLoading se resuelva para ${t.fullPath}...`),await new Promise(l=>{const u=r.$subscribe((c,h)=>{h.loading||(u(),l())});r.isAuthLoading||(u(),l())}),console.log(`RouterGuard: authStore.isAuthLoading resuelto. Is Authenticated: ${r.isAuthenticated}, User Role: ${(a=r.user)==null?void 0:a.role}`));const n=r.isAuthenticated,i=t.meta.requiresAuth,o=t.meta.public;if(i&&!n)return console.log("RouterGuard: Acceso no autorizado a ruta protegida. Redirigiendo a login."),s({name:"Login",query:{redirect:t.fullPath}});if(o&&n)return console.log("RouterGuard: Usuario autenticado intentando acceder a ruta pública. Redirigiendo a feed."),s({name:"Feed"});s()});async function ig(){const t=Qu(rg),e=Zu();t.use(e);const s=jt();console.log("main.js: Iniciando inicialización de autenticación..."),await s.initializeAuth(),console.log("main.js: Autenticación inicializada. User:",s.user),Te.auth.onAuthStateChange(async(r,n)=>{console.log("main.js: onAuthStateChange - Event:",r,"Session:",n),await s.setUser(n?n.user:null)}),t.use(Tl),t.mount("#app"),console.log("main.js: Aplicación Vue montada.")}ig();export{ug as A,It as B,qa as C,wr as D,ze as F,Al as _,te as a,dt as b,ye as c,og as d,le as e,Vt as f,de as g,Ot as h,si as i,Pp as j,xp as k,Cs as l,da as m,ti as n,fe as o,lg as p,pa as q,hs as r,hg as s,st as t,jt as u,ag as v,cg as w,Te as x,Rp as y,Me as z};
