import{r as u,m as d,x as r,c as o,a as i,F as m,q as f,o as n,t as p}from"./index-Bey__kGK.js";const _={class:"p-4"},b={class:"font-semibold"},x=["onClick"],g={__name:"MyPublications",setup(v){const a=u([]);d(async()=>{const s=(await r.auth.getUser()).data.user,{data:t}=await r.from("posts").select("*").eq("user_id",s.id);a.value=t});async function c(s){if(!confirm("¿Estás seguro de que deseas eliminar esta publicación?"))return;const{error:e}=await r.from("posts").delete().eq("id",s);if(e){alert("Error al eliminar: "+e.message),console.error("Error al eliminar:",e);return}a.value=a.value.filter(l=>l.id!==s)}return(s,t)=>(n(),o("div",_,[t[0]||(t[0]=i("h2",{class:"text-xl font-bold mb-4"},"Mis Publicaciones",-1)),(n(!0),o(m,null,f(a.value,e=>(n(),o("div",{key:e.id,class:"border p-4 mb-4"},[i("h3",b,p(e.title),1),i("button",{class:"bg-red-500 text-white px-2 py-1 text-sm",onClick:l=>c(e.id)},"Eliminar",8,x)]))),128))]))}};export{g as default};
